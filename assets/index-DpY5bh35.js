(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function jv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xh={exports:{}},Zl={};var r_;function t1(){if(r_)return Zl;r_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var a_;function e1(){return a_||(a_=1,Xh.exports=t1()),Xh.exports}var me=e1(),Zh={exports:{}},yt={};var s_;function n1(){if(s_)return yt;s_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),U=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ft(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||$}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function mt(){}mt.prototype=ft.prototype;function lt(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||$}var vt=lt.prototype=new mt;vt.constructor=lt,W(vt,ft.prototype),vt.isPureReactComponent=!0;var Pt=Array.isArray;function bt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,K,et){var rt=et.ref;return{$$typeof:r,type:O,key:K,ref:rt!==void 0?rt:null,props:et}}function V(O,K){return C(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ee(O,K){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):K.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(bt,bt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,et,rt,gt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case r:case e:Vt=!0;break;case A:return Vt=O._init,H(Vt(O._payload),K,et,rt,gt)}}if(Vt)return gt=gt(O),Vt=rt===""?"."+ee(O,0):rt,Pt(gt)?(et="",Vt!=null&&(et=Vt.replace(w,"$&/")+"/"),H(gt,K,et,"",function(Fr){return Fr})):gt!=null&&(N(gt)&&(gt=V(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+Vt)),K.push(gt)),1;Vt=0;var Ie=rt===""?".":rt+":";if(Pt(O))for(var ne=0;ne<O.length;ne++)rt=O[ne],At=Ie+ee(rt,ne),Vt+=H(rt,K,et,At,gt);else if(ne=G(O),typeof ne=="function")for(O=ne.call(O),ne=0;!(rt=O.next()).done;)rt=rt.value,At=Ie+ee(rt,ne++),Vt+=H(rt,K,et,At,gt);else if(At==="object"){if(typeof O.then=="function")return H(De(O),K,et,rt,gt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function tt(O,K,et){if(O==null)return O;var rt=[],gt=0;return H(O,rt,"","",function(At){return K.call(et,At,gt++)}),rt}function ct(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},jt={map:tt,forEach:function(O,K,et){tt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return tt(O,function(){K++}),K},toArray:function(O){return tt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return yt.Activity=b,yt.Children=jt,yt.Component=ft,yt.Fragment=i,yt.Profiler=o,yt.PureComponent=lt,yt.StrictMode=s,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,yt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},yt.cache=function(O){return function(){return O.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=W({},O.props),gt=O.key;if(K!=null)for(At in K.key!==void 0&&(gt=""+K.key),K)!S.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(rt[At]=K[At]);var At=arguments.length-2;if(At===1)rt.children=et;else if(1<At){for(var Vt=Array(At),Ie=0;Ie<At;Ie++)Vt[Ie]=arguments[Ie+2];rt.children=Vt}return C(O.type,gt,rt)},yt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},yt.createElement=function(O,K,et){var rt,gt={},At=null;if(K!=null)for(rt in K.key!==void 0&&(At=""+K.key),K)S.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=K[rt]);var Vt=arguments.length-2;if(Vt===1)gt.children=et;else if(1<Vt){for(var Ie=Array(Vt),ne=0;ne<Vt;ne++)Ie[ne]=arguments[ne+2];gt.children=Ie}if(O&&O.defaultProps)for(rt in Vt=O.defaultProps,Vt)gt[rt]===void 0&&(gt[rt]=Vt[rt]);return C(O,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(O){return{$$typeof:p,render:O}},yt.isValidElement=N,yt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ct}},yt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},yt.startTransition=function(O){var K=D.T,et={};D.T=et;try{var rt=O(),gt=D.S;gt!==null&&gt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(bt,xt)}catch(At){xt(At)}finally{K!==null&&et.types!==null&&(K.types=et.types),D.T=K}},yt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},yt.use=function(O){return D.H.use(O)},yt.useActionState=function(O,K,et){return D.H.useActionState(O,K,et)},yt.useCallback=function(O,K){return D.H.useCallback(O,K)},yt.useContext=function(O){return D.H.useContext(O)},yt.useDebugValue=function(){},yt.useDeferredValue=function(O,K){return D.H.useDeferredValue(O,K)},yt.useEffect=function(O,K){return D.H.useEffect(O,K)},yt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},yt.useId=function(){return D.H.useId()},yt.useImperativeHandle=function(O,K,et){return D.H.useImperativeHandle(O,K,et)},yt.useInsertionEffect=function(O,K){return D.H.useInsertionEffect(O,K)},yt.useLayoutEffect=function(O,K){return D.H.useLayoutEffect(O,K)},yt.useMemo=function(O,K){return D.H.useMemo(O,K)},yt.useOptimistic=function(O,K){return D.H.useOptimistic(O,K)},yt.useReducer=function(O,K,et){return D.H.useReducer(O,K,et)},yt.useRef=function(O){return D.H.useRef(O)},yt.useState=function(O){return D.H.useState(O)},yt.useSyncExternalStore=function(O,K,et){return D.H.useSyncExternalStore(O,K,et)},yt.useTransition=function(){return D.H.useTransition()},yt.version="19.2.0",yt}var l_;function jd(){return l_||(l_=1,Zh.exports=n1()),Zh.exports}var Vs=jd();const i1=jv(Vs);var $h={exports:{}},$l={},Jh={exports:{}},Wh={};var o_;function r1(){return o_||(o_=1,(function(r){function e(H,tt){var ct=H.length;H.push(tt);t:for(;0<ct;){var xt=ct-1>>>1,jt=H[xt];if(0<o(jt,tt))H[xt]=tt,H[ct]=jt,ct=xt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ct=H.pop();if(ct!==tt){H[0]=ct;t:for(var xt=0,jt=H.length,O=jt>>>1;xt<O;){var K=2*(xt+1)-1,et=H[K],rt=K+1,gt=H[rt];if(0>o(et,ct))rt<jt&&0>o(gt,et)?(H[xt]=gt,H[rt]=ct,xt=rt):(H[xt]=et,H[K]=ct,xt=K);else if(rt<jt&&0>o(gt,ct))H[xt]=gt,H[rt]=ct,xt=rt;else break t}}return tt}function o(H,tt){var ct=H.sortIndex-tt.sortIndex;return ct!==0?ct:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,b=null,U=3,G=!1,$=!1,W=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var tt=i(y);tt!==null;){if(tt.callback===null)s(y);else if(tt.startTime<=H)s(y),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(y)}}function Pt(H){if(W=!1,vt(H),!$)if(i(v)!==null)$=!0,bt||(bt=!0,x());else{var tt=i(y);tt!==null&&De(Pt,tt.startTime-H)}}var bt=!1,D=-1,S=5,C=-1;function V(){return Z?!0:!(r.unstable_now()-C<S)}function N(){if(Z=!1,bt){var H=r.unstable_now();C=H;var tt=!0;try{t:{$=!1,W&&(W=!1,mt(D),D=-1),G=!0;var ct=U;try{e:{for(vt(H),b=i(v);b!==null&&!(b.expirationTime>H&&V());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,U=b.priorityLevel;var jt=xt(b.expirationTime<=H);if(H=r.unstable_now(),typeof jt=="function"){b.callback=jt,vt(H),tt=!0;break e}b===i(v)&&s(v),vt(H)}else s(v);b=i(v)}if(b!==null)tt=!0;else{var O=i(y);O!==null&&De(Pt,O.startTime-H),tt=!1}}break t}finally{b=null,U=ct,G=!1}tt=void 0}}finally{tt?x():bt=!1}}}var x;if(typeof lt=="function")x=function(){lt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=N,x=function(){ee.postMessage(null)}}else x=function(){ft(N,0)};function De(H,tt){D=ft(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_next=function(H){switch(U){case 1:case 2:case 3:var tt=3;break;default:tt=U}var ct=U;U=tt;try{return H()}finally{U=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=U;U=H;try{return tt()}finally{U=ct}},r.unstable_scheduleCallback=function(H,tt,ct){var xt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?xt+ct:xt):ct=xt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ct+jt,H={id:A++,callback:tt,priorityLevel:H,startTime:ct,expirationTime:jt,sortIndex:-1},ct>xt?(H.sortIndex=ct,e(y,H),i(v)===null&&H===i(y)&&(W?(mt(D),D=-1):W=!0,De(Pt,ct-xt))):(H.sortIndex=jt,e(v,H),$||G||($=!0,bt||(bt=!0,x()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var tt=U;return function(){var ct=U;U=tt;try{return H.apply(this,arguments)}finally{U=ct}}}})(Wh)),Wh}var u_;function a1(){return u_||(u_=1,Jh.exports=r1()),Jh.exports}var td={exports:{}},Ke={};var c_;function s1(){if(c_)return Ke;c_=1;var r=jd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return f(v,y,null,A)},Ke.flushSync=function(v){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=y,s.p=A,s.d.f()}},Ke.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Ke.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ke.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),U=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:U,fetchPriority:G}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:U,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Ke.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Ke.requestFormReset=function(v){s.d.r(v)},Ke.unstable_batchedUpdates=function(v,y){return v(y)},Ke.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var f_;function l1(){if(f_)return td.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),td.exports=s1(),td.exports}var h_;function o1(){if(h_)return $l;h_=1;var r=a1(),e=jd(),i=l1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,U=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case Pt:return"Suspense";case bt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case lt:return t.displayName||"Context";case mt:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var De=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},xt=[],jt=-1;function O(t){return{current:t}}function K(t){0>jt||(t.current=xt[jt],xt[jt]=null,jt--)}function et(t,n){jt++,xt[jt]=t.current,t.current=n}var rt=O(null),gt=O(null),At=O(null),Vt=O(null);function Ie(t,n){switch(et(At,n),et(gt,t),et(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cy(n),t=Dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(rt),et(rt,t)}function ne(){K(rt),K(gt),K(At)}function Fr(t){t.memoizedState!==null&&et(Vt,t);var n=rt.current,a=Dy(n,t.type);n!==a&&(et(gt,t),et(rt,a))}function ka(t){gt.current===t&&(K(rt),K(gt)),Vt.current===t&&(K(Vt),Ql._currentValue=ct)}var Ba,Pa;function Jn(t){if(Ba===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ba=n&&n[1]||"",Pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ba+t+Pa}var Qs=!1;function Qr(t,n){if(!t||Qs)return"";Qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){B=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===k.length)for(l=R.length-1,c=k.length-1;1<=l&&0<=c&&R[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==k[c]){var j=`
`+R[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{Qs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Jn(a):""}function Ks(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Qr(t.type,!1);case 11:return Qr(t.type.render,!1);case 1:return Qr(t.type,!0);case 31:return Jn("Activity");default:return""}}function Ys(t){try{var n="",a=null;do n+=Ks(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,tr=r.unstable_cancelCallback,Zc=r.unstable_shouldYield,Do=r.unstable_requestPaint,Je=r.unstable_now,Kr=r.unstable_getCurrentPriorityLevel,Xs=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,er=r.unstable_NormalPriority,$c=r.unstable_LowPriority,Io=r.unstable_IdlePriority,No=r.log,Oo=r.unstable_setDisableYieldValue,kn=null,ke=null;function An(t){if(typeof No=="function"&&Oo(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(kn,t)}catch{}}var ce=Math.clz32?Math.clz32:Mo,Vo=Math.log,qa=Math.LN2;function Mo(t){return t>>>=0,t===0?32:31-(Vo(t)/qa|0)|0}var Wn=256,Yr=262144,ye=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=ti(l):(g&=E,g!==0?c=ti(g):a||(a=E&~t,a!==0&&(c=ti(a))))):(E=l&~h,E!==0?c=ti(E):g!==0?c=ti(g):a||(a=l&~t,a!==0&&(c=ti(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ni(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Xr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var j=31-ce(a),Q=1<<j;E[j]=0,R[j]=-1;var B=k[j];if(B!==null)for(k[j]=null,j=0;j<B.length;j++){var q=B[j];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&Zr(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Zr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function $s(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Js(t,n){var a=n&-n;return a=(a&42)!==0?1:$r(a),(a&(t.suspendedLanes|n))!==0?0:a}function $r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xo(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function Pn(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var qn=Math.random().toString(36).slice(2),_e="__reactFiber$"+qn,Ue="__reactProps$"+qn,ii="__reactContainer$"+qn,ja="__reactEvents$"+qn,tf="__reactListeners$"+qn,Lo="__reactHandles$"+qn,zo="__reactResources$"+qn,ri="__reactMarker$"+qn;function Ha(t){delete t[_e],delete t[Ue],delete t[ja],delete t[tf],delete t[Lo]}function ai(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ii]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=xy(t);t!==null;){if(a=t[_e])return a;t=xy(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[_e]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function si(t){var n=t[zo];return n||(n=t[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ri]=!0}var Ws=new Set,tl={};function li(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(tl[t]=n,t=0;t<n.length;t++)Ws.add(n[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function ko(t){return pe.call(il,t)?!0:pe.call(nl,t)?!1:el.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Ga(t,n,a){if(ko(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=nr(t)?"checked":"value";t._valueTracker=rl(t,n,""+t[n])}}function Jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=nr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wr=/[\n"\\]/g;function nn(t){return t.replace(Wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fa(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+xe(n)):t.value!==""+xe(n)&&(t.value=""+xe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?al(t,g,xe(n)):a!=null?al(t,g,xe(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+xe(E):t.removeAttribute("name")}function Bo(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Ht(t);return}a=a!=null?""+xe(a):"",n=n!=null?""+xe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ht(t)}function al(t,n,a){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ir(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+xe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Po(t,n,a){if(n!=null&&(n=""+xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+xe(a):""}function rr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ht(t)}function rn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||qo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ll(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&sl(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&sl(t,h,n[h])}function Qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var ol=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sr=null,ci=null;function ta(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(Fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ue]||null;if(!c)throw Error(s(90));Fa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Jr(l)}break t;case"textarea":Po(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ir(t,!!a.multiple,n,!1)}}}var Ya=!1;function lr(t,n,a){if(Ya)return t(n,a);Ya=!0;try{var l=t(n);return l}finally{if(Ya=!1,(sr!==null||ci!==null)&&(xu(),sr&&(n=sr,t=ci,ci=sr=null,ta(n),t)))for(n=0;n<t.length;n++)ta(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(wn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){ea=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{ea=!1}var fi=null,ul=null,na=null;function cl(){if(na)return na;var t,n=ul,a=n.length,l,c="value"in fi?fi.value:fi.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return na=c.slice(t,1<l?1-l:void 0)}function ia(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Gn(){return!1}function Be(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ii:Gn,this.isPropagationStopped=Gn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Be(Ni),or=b({},Ni,{view:0,detail:0}),fl=Be(or),ur,Xa,di,Za=b({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(ur=t.screenX-di.screenX,Xa=t.screenY-di.screenY):Xa=ur=0,di=t),ur)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),hl=Be(Za),ra=b({},Za,{dataTransfer:0}),Ho=Be(ra),Go=b({},or,{relatedTarget:0}),aa=Be(Go),dl=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Fo=Be(dl),$a=b({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qo=Be($a),Ko=b({},Ni,{data:0}),mi=Be(Ko),Yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function cr(){return $o}var We=b({},or,{key:function(t){if(t.key){var n=Yo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(t){return t.type==="keypress"?ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jo=Be(We),Wo=b({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Be(Wo),u=b({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),m=Be(u),_=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(_),L=b({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Be(L),J=b({},Ni,{newState:0,oldState:0}),Et=Be(J),fe=[9,13,27,32],kt=wn&&"CompositionEvent"in window,ie=null;wn&&"documentMode"in document&&(ie=document.documentMode);var Rn=wn&&"TextEvent"in window&&!ie,gi=wn&&(!kt||ie&&8<ie&&11>=ie),Fn=" ",Qn=!1;function sa(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function b0(t,n){switch(t){case"compositionend":return Ja(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return t=n.data,t===Fn&&Qn?null:t;default:return null}}function w0(t,n){if(Wa)return t==="compositionend"||!kt&&sa(t,n)?(t=cl(),na=ul=fi=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var R0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!R0[t.type]:n==="textarea"}function Bm(t,n,a,l){sr?ci?ci.push(l):ci=[l]:sr=l,n=ju(n,"onChange"),0<n.length&&(a=new hi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ml=null,gl=null;function C0(t){Ty(t,0)}function tu(t){var n=hn(t);if(Jr(n))return t}function Pm(t,n){if(t==="change")return n}var qm=!1;if(wn){var ef;if(wn){var nf="oninput"in document;if(!nf){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),nf=typeof jm.oninput=="function"}ef=nf}else ef=!1;qm=ef&&(!document.documentMode||9<document.documentMode)}function Hm(){ml&&(ml.detachEvent("onpropertychange",Gm),gl=ml=null)}function Gm(t){if(t.propertyName==="value"&&tu(gl)){var n=[];Bm(n,gl,t,bn(t)),lr(C0,n)}}function D0(t,n,a){t==="focusin"?(Hm(),ml=n,gl=a,ml.attachEvent("onpropertychange",Gm)):t==="focusout"&&Hm()}function I0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(gl)}function N0(t,n){if(t==="click")return tu(n)}function O0(t,n){if(t==="input"||t==="change")return tu(n)}function V0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:V0;function pl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pe.call(n,c)||!mn(t[c],n[c]))return!1}return!0}function Fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qm(t,n){var a=Fm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fm(a)}}function Km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ui(t.document)}return n}function rf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var M0=wn&&"documentMode"in document&&11>=document.documentMode,ts=null,af=null,yl=null,sf=!1;function Xm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||ts==null||ts!==ui(l)||(l=ts,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=ju(af,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ts)))}function la(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var es={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},lf={},Zm={};wn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function oa(t){if(lf[t])return lf[t];if(!es[t])return t;var n=es[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zm)return lf[t]=n[a];return t}var $m=oa("animationend"),Jm=oa("animationiteration"),Wm=oa("animationstart"),U0=oa("transitionrun"),x0=oa("transitionstart"),L0=oa("transitioncancel"),tg=oa("transitionend"),eg=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Kn(t,n){eg.set(t,n),li(n,[t])}var eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],ns=0,uf=0;function nu(){for(var t=ns,n=uf=ns=0;n<t;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var h=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&ng(a,c,h)}}function iu(t,n,a,l){Cn[ns++]=t,Cn[ns++]=n,Cn[ns++]=a,Cn[ns++]=l,uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cf(t,n,a,l){return iu(t,n,a,l),ru(t)}function ua(t,n){return iu(t,null,null,n),ru(t)}function ng(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-ce(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function ru(t){if(50<Bl)throw Bl=0,vh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var is={};function z0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new z0(t,n,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ig(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function au(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")ff(t)&&(g=1);else if(typeof t=="string")g=jA(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=gn(31,a,n,c),t.elementType=C,t.lanes=h,t;case W:return ca(a.children,c,h,n);case Z:g=8,c|=24;break;case ft:return t=gn(12,a,n,c|2),t.elementType=ft,t.lanes=h,t;case Pt:return t=gn(13,a,n,c),t.elementType=Pt,t.lanes=h,t;case bt:return t=gn(19,a,n,c),t.elementType=bt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lt:g=10;break t;case mt:g=9;break t;case vt:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=gn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ca(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function hf(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function rg(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function df(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ag=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ys(n)},ag.set(t,n),n)}return{value:t,source:n,stack:Ys(n)}}var rs=[],as=0,su=null,_l=0,In=[],Nn=0,fr=null,pi=1,yi="";function Mi(t,n){rs[as++]=_l,rs[as++]=su,su=t,_l=n}function sg(t,n,a){In[Nn++]=pi,In[Nn++]=yi,In[Nn++]=fr,fr=t;var l=pi;t=yi;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var h=32-ce(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,pi=1<<32-ce(n)+c|a<<c|l,yi=h+t}else pi=1<<h|a<<c|l,yi=t}function mf(t){t.return!==null&&(Mi(t,1),sg(t,1,0))}function gf(t){for(;t===su;)su=rs[--as],rs[as]=null,_l=rs[--as],rs[as]=null;for(;t===fr;)fr=In[--Nn],In[Nn]=null,yi=In[--Nn],In[Nn]=null,pi=In[--Nn],In[Nn]=null}function lg(t,n){In[Nn++]=pi,In[Nn++]=yi,In[Nn++]=fr,pi=n.id,yi=n.overflow,fr=t}var Pe=null,Wt=null,Ot=!1,hr=null,On=!1,pf=Error(s(519));function dr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Dn(n,t)),pf}function og(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Ue]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)Rt(ql[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Bo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),rr(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||wy(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||dr(t,!0)}function ug(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Pe=Pe.return}}function ss(t){if(t!==Pe)return!1;if(!Ot)return ug(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Uh(t.type,t.memoizedProps)),a=!a),a&&Wt&&dr(t),ug(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Uy(t)}else n===27?(n=Wt,Cr(t.type)?(t=Bh,Bh=null,Wt=t):Wt=n):Wt=Pe?Mn(t.stateNode.nextSibling):null;return!0}function fa(){Wt=Pe=null,Ot=!1}function yf(){var t=hr;return t!==null&&(on===null?on=t:on.push.apply(on,t),hr=null),t}function vl(t){hr===null?hr=[t]:hr.push(t)}var _f=O(null),ha=null,Ui=null;function mr(t,n,a){et(_f,n._currentValue),n._currentValue=a}function xi(t){t._currentValue=_f.current,K(_f)}function vf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ef(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),vf(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),vf(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ls(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;mn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}c=c.return}t!==null&&Ef(n,t,a,l),n.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){ha=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return cg(ha,t)}function ou(t,n){return ha===null&&da(t),cg(t,n)}function cg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return a}var k0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},B0=r.unstable_scheduleCallback,P0=r.unstable_NormalPriority,Te={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new k0,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&B0(P0,function(){t.controller.abort()})}var Tl=null,Af=0,os=0,us=null;function q0(t,n){if(Tl===null){var a=Tl=[];Af=0,os=wh(),us={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Af++,n.then(fg,fg),n}function fg(){if(--Af===0&&Tl!==null){us!==null&&(us.status="fulfilled");var t=Tl;Tl=null,os=0,us=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function j0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var hg=H.S;H.S=function(t,n){Xp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&q0(t,n),hg!==null&&hg(t,n)};var ma=O(null);function Sf(){var t=ma.current;return t!==null?t:Zt.pooledCache}function uu(t,n){n===null?et(ma,ma.current):et(ma,n.pool)}function dg(){var t=Sf();return t===null?null:{parent:Te._currentValue,pool:t}}var cs=Error(s(460)),bf=Error(s(474)),cu=Error(s(542)),fu={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t}throw pa=n,cs}}function ga(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pa=a,cs):a}}var pa=null;function pg(){if(pa===null)throw Error(s(459));var t=pa;return pa=null,t}function yg(t){if(t===cs||t===cu)throw Error(s(483))}var fs=null,Al=0;function hu(t){var n=Al;return Al+=1,fs===null&&(fs=[]),gg(fs,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function du(t,n){throw n.$$typeof===U?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){function n(M,I){if(t){var z=M.deletions;z===null?(M.deletions=[I],M.flags|=16):z.push(I)}}function a(M,I){if(!t)return null;for(;I!==null;)n(M,I),I=I.sibling;return null}function l(M){for(var I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function c(M,I){return M=Vi(M,I),M.index=0,M.sibling=null,M}function h(M,I,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<I?(M.flags|=67108866,I):z):(M.flags|=67108866,I)):(M.flags|=1048576,I)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,I,z,F){return I===null||I.tag!==6?(I=hf(z,M.mode,F),I.return=M,I):(I=c(I,z),I.return=M,I)}function R(M,I,z,F){var ot=z.type;return ot===W?j(M,I,z.props.children,F,z.key):I!==null&&(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&ga(ot)===I.type)?(I=c(I,z.props),Sl(I,z),I.return=M,I):(I=au(z.type,z.key,z.props,null,M.mode,F),Sl(I,z),I.return=M,I)}function k(M,I,z,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=df(z,M.mode,F),I.return=M,I):(I=c(I,z.children||[]),I.return=M,I)}function j(M,I,z,F,ot){return I===null||I.tag!==7?(I=ca(z,M.mode,F,ot),I.return=M,I):(I=c(I,z),I.return=M,I)}function Q(M,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=hf(""+I,M.mode,z),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case G:return z=au(I.type,I.key,I.props,null,M.mode,z),Sl(z,I),z.return=M,z;case $:return I=df(I,M.mode,z),I.return=M,I;case S:return I=ga(I),Q(M,I,z)}if(De(I)||x(I))return I=ca(I,M.mode,z,null),I.return=M,I;if(typeof I.then=="function")return Q(M,hu(I),z);if(I.$$typeof===lt)return Q(M,ou(M,I),z);du(M,I)}return null}function B(M,I,z,F){var ot=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ot!==null?null:E(M,I,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===ot?R(M,I,z,F):null;case $:return z.key===ot?k(M,I,z,F):null;case S:return z=ga(z),B(M,I,z,F)}if(De(z)||x(z))return ot!==null?null:j(M,I,z,F,null);if(typeof z.then=="function")return B(M,I,hu(z),F);if(z.$$typeof===lt)return B(M,I,ou(M,z),F);du(M,z)}return null}function q(M,I,z,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(z)||null,E(I,M,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return M=M.get(F.key===null?z:F.key)||null,R(I,M,F,ot);case $:return M=M.get(F.key===null?z:F.key)||null,k(I,M,F,ot);case S:return F=ga(F),q(M,I,z,F,ot)}if(De(F)||x(F))return M=M.get(z)||null,j(I,M,F,ot,null);if(typeof F.then=="function")return q(M,I,z,hu(F),ot);if(F.$$typeof===lt)return q(M,I,z,ou(I,F),ot);du(I,F)}return null}function at(M,I,z,F){for(var ot=null,Lt=null,st=I,St=I=0,Dt=null;st!==null&&St<z.length;St++){st.index>St?(Dt=st,st=null):Dt=st.sibling;var zt=B(M,st,z[St],F);if(zt===null){st===null&&(st=Dt);break}t&&st&&zt.alternate===null&&n(M,st),I=h(zt,I,St),Lt===null?ot=zt:Lt.sibling=zt,Lt=zt,st=Dt}if(St===z.length)return a(M,st),Ot&&Mi(M,St),ot;if(st===null){for(;St<z.length;St++)st=Q(M,z[St],F),st!==null&&(I=h(st,I,St),Lt===null?ot=st:Lt.sibling=st,Lt=st);return Ot&&Mi(M,St),ot}for(st=l(st);St<z.length;St++)Dt=q(st,M,St,z[St],F),Dt!==null&&(t&&Dt.alternate!==null&&st.delete(Dt.key===null?St:Dt.key),I=h(Dt,I,St),Lt===null?ot=Dt:Lt.sibling=Dt,Lt=Dt);return t&&st.forEach(function(Vr){return n(M,Vr)}),Ot&&Mi(M,St),ot}function ht(M,I,z,F){if(z==null)throw Error(s(151));for(var ot=null,Lt=null,st=I,St=I=0,Dt=null,zt=z.next();st!==null&&!zt.done;St++,zt=z.next()){st.index>St?(Dt=st,st=null):Dt=st.sibling;var Vr=B(M,st,zt.value,F);if(Vr===null){st===null&&(st=Dt);break}t&&st&&Vr.alternate===null&&n(M,st),I=h(Vr,I,St),Lt===null?ot=Vr:Lt.sibling=Vr,Lt=Vr,st=Dt}if(zt.done)return a(M,st),Ot&&Mi(M,St),ot;if(st===null){for(;!zt.done;St++,zt=z.next())zt=Q(M,zt.value,F),zt!==null&&(I=h(zt,I,St),Lt===null?ot=zt:Lt.sibling=zt,Lt=zt);return Ot&&Mi(M,St),ot}for(st=l(st);!zt.done;St++,zt=z.next())zt=q(st,M,St,zt.value,F),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?St:zt.key),I=h(zt,I,St),Lt===null?ot=zt:Lt.sibling=zt,Lt=zt);return t&&st.forEach(function(WA){return n(M,WA)}),Ot&&Mi(M,St),ot}function Xt(M,I,z,F){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:t:{for(var ot=z.key;I!==null;){if(I.key===ot){if(ot=z.type,ot===W){if(I.tag===7){a(M,I.sibling),F=c(I,z.props.children),F.return=M,M=F;break t}}else if(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&ga(ot)===I.type){a(M,I.sibling),F=c(I,z.props),Sl(F,z),F.return=M,M=F;break t}a(M,I);break}else n(M,I);I=I.sibling}z.type===W?(F=ca(z.props.children,M.mode,F,z.key),F.return=M,M=F):(F=au(z.type,z.key,z.props,null,M.mode,F),Sl(F,z),F.return=M,M=F)}return g(M);case $:t:{for(ot=z.key;I!==null;){if(I.key===ot)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(M,I.sibling),F=c(I,z.children||[]),F.return=M,M=F;break t}else{a(M,I);break}else n(M,I);I=I.sibling}F=df(z,M.mode,F),F.return=M,M=F}return g(M);case S:return z=ga(z),Xt(M,I,z,F)}if(De(z))return at(M,I,z,F);if(x(z)){if(ot=x(z),typeof ot!="function")throw Error(s(150));return z=ot.call(z),ht(M,I,z,F)}if(typeof z.then=="function")return Xt(M,I,hu(z),F);if(z.$$typeof===lt)return Xt(M,I,ou(M,z),F);du(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(M,I.sibling),F=c(I,z),F.return=M,M=F):(a(M,I),F=hf(z,M.mode,F),F.return=M,M=F),g(M)):a(M,I)}return function(M,I,z,F){try{Al=0;var ot=Xt(M,I,z,F);return fs=null,ot}catch(st){if(st===cs||st===cu)throw st;var Lt=gn(29,st,null,M.mode);return Lt.lanes=F,Lt.return=M,Lt}finally{}}}var ya=_g(!0),vg=_g(!1),gr=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ru(t),ng(t,null,a),n}return iu(t,l,n,a),ru(t)}function bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,$s(t,a)}}function Cf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Df=!1;function wl(){if(Df){var t=us;if(t!==null)throw t}}function Rl(t,n,a,l){Df=!1;var c=t.updateQueue;gr=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?h=k:g.next=k,g=R;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=k:E.next=k,j.lastBaseUpdate=R))}if(h!==null){var Q=c.baseState;g=0,j=k=R=null,E=h;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ct&B)===B:(l&B)===B){B!==0&&B===os&&(Df=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,ht=E;B=n;var Xt=a;switch(ht.tag){case 1:if(at=ht.payload,typeof at=="function"){Q=at.call(Xt,Q,B);break t}Q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,B=typeof at=="function"?at.call(Xt,Q,B):at,B==null)break t;Q=b({},Q,B);break t;case 2:gr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(k=j=q,R=Q):j=j.next=q,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=k,c.lastBaseUpdate=j,h===null&&(c.shared.lanes=0),Ar|=g,t.lanes=g,t.memoizedState=Q}}function Eg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Eg(a[t],n)}var hs=O(null),mu=O(0);function Ag(t,n){t=Gi,et(mu,t),et(hs,n),Gi=t|n.baseLanes}function If(){et(mu,Gi),et(hs,hs.current)}function Nf(){Gi=mu.current,K(hs),K(mu)}var pn=O(null),Vn=null;function _r(t){var n=t.alternate;et(he,he.current&1),et(pn,t),Vn===null&&(n===null||hs.current!==null||n.memoizedState!==null)&&(Vn=t)}function Of(t){et(he,he.current),et(pn,t),Vn===null&&(Vn=t)}function Sg(t){t.tag===22?(et(he,he.current),et(pn,t),Vn===null&&(Vn=t)):vr()}function vr(){et(he,he.current),et(pn,pn.current)}function yn(t){K(pn),Vn===t&&(Vn=null),K(he)}var he=O(0);function gu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zh(a)||kh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Tt=null,Kt=null,Ae=null,pu=!1,ds=!1,_a=!1,yu=0,Cl=0,ms=null,H0=0;function se(){throw Error(s(321))}function Vf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Mf(t,n,a,l,c,h){return Li=h,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?sp:Yf,_a=!1,h=a(l,c),_a=!1,ds&&(h=wg(n,a,l,c)),bg(t),h}function bg(t){H.H=Nl;var n=Kt!==null&&Kt.next!==null;if(Li=0,Ae=Kt=Tt=null,pu=!1,Cl=0,ms=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&lu(t)&&(Se=!0))}function wg(t,n,a,l){Tt=t;var c=0;do{if(ds&&(ms=null),Cl=0,ds=!1,25<=c)throw Error(s(301));if(c+=1,Ae=Kt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=lp,h=n(a,l)}while(ds);return h}function G0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Dl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function Uf(){var t=yu!==0;return yu=0,t}function xf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Lf(t){if(pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}pu=!1}Li=0,Ae=Kt=Tt=null,ds=!1,Cl=yu=0,ms=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Tt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function de(){if(Kt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Ae===null?Tt.memoizedState:Ae.next;if(n!==null)Ae=n,Kt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ae===null?Tt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var n=Cl;return Cl+=1,ms===null&&(ms=[]),t=gg(ms,t,n),n=Tt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?sp:Yf),t}function vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===lt)return qe(t)}throw Error(s(438,String(t)))}function zf(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=_u(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function zi(t,n){return typeof n=="function"?n(t):n}function Eu(t){var n=de();return kf(n,Kt,t)}function kf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,R=null,k=n,j=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(Ct&Q)===Q:(Li&Q)===Q){var B=k.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===os&&(j=!0);else if((Li&B)===B){k=k.next,B===os&&(j=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=Q,g=h):R=R.next=Q,Tt.lanes|=B,Ar|=B;Q=k.action,_a&&a(h,Q),h=k.hasEagerState?k.eagerState:a(h,Q)}else B={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=B,g=h):R=R.next=B,Tt.lanes|=Q,Ar|=Q;k=k.next}while(k!==null&&k!==n);if(R===null?g=h:R.next=E,!mn(h,t.memoizedState)&&(Se=!0,j&&(a=us,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=R,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);mn(h,n.memoizedState)||(Se=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Rg(t,n,a){var l=Tt,c=de(),h=Ot;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!mn((Kt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,jf(Ig.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,gs(9,{destroy:void 0},Dg.bind(null,l,c,a,n),null),Zt===null)throw Error(s(349));h||(Li&127)!==0||Cg(l,n,a)}return a}function Cg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=_u(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Dg(t,n,a,l){n.value=a,n.getSnapshot=l,Ng(n)&&Og(t)}function Ig(t,n,a){return a(function(){Ng(n)&&Og(t)})}function Ng(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function Og(t){var n=ua(t,2);n!==null&&un(n,t,2)}function Pf(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),_a){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function Vg(t,n,a,l){return t.baseState=a,kf(t,Kt,typeof l=="function"?l:zi)}function F0(t,n,a,l,c){if(Su(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Mg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Mg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,g={};H.T=g;try{var E=a(c,l),R=H.S;R!==null&&R(g,E),Ug(t,n,E)}catch(k){qf(t,n,k)}finally{h!==null&&g.types!==null&&(h.types=g.types),H.T=h}}else try{h=a(c,l),Ug(t,n,h)}catch(k){qf(t,n,k)}}function Ug(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xg(t,n,l)},function(l){return qf(t,n,l)}):xg(t,n,a)}function xg(t,n,a){n.status="fulfilled",n.value=a,Lg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mg(t,a)))}function qf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==l)}t.action=null}function Lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zg(t,n){return n}function kg(t,n){if(Ot){var a=Zt.formState;if(a!==null){t:{var l=Tt;if(Ot){if(Wt){e:{for(var c=Wt,h=On;c.nodeType!==8;){if(!h){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Wt=Mn(c.nextSibling),l=c.data==="F!";break t}}dr(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:n},a.queue=l,a=ip.bind(null,Tt,l),l.dispatch=a,l=Pf(!1),h=Kf.bind(null,Tt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=F0.bind(null,Tt,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bg(t){var n=de();return Pg(n,Kt,t)}function Pg(t,n,a){if(n=kf(t,n,zg)[0],t=Eu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(g){throw g===cs?cu:g}else l=n;n=de();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,gs(9,{destroy:void 0},Q0.bind(null,c,a),null)),[l,h,t]}function Q0(t,n){t.action=n}function qg(t){var n=de(),a=Kt;if(a!==null)return Pg(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function gs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=_u(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function jg(){return de().memoizedState}function Tu(t,n,a,l){var c=tn();Tt.flags|=t,c.memoizedState=gs(1|n,{destroy:void 0},a,l===void 0?null:l)}function Au(t,n,a,l){var c=de();l=l===void 0?null:l;var h=c.memoizedState.inst;Kt!==null&&l!==null&&Vf(l,Kt.memoizedState.deps)?c.memoizedState=gs(n,h,a,l):(Tt.flags|=t,c.memoizedState=gs(1|n,h,a,l))}function Hg(t,n){Tu(8390656,8,t,n)}function jf(t,n){Au(2048,8,t,n)}function K0(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=_u(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Gg(t){var n=de().memoizedState;return K0({ref:n,nextImpl:t}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Fg(t,n){return Au(4,2,t,n)}function Qg(t,n){return Au(4,4,t,n)}function Kg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,a){a=a!=null?a.concat([t]):null,Au(4,4,Kg.bind(null,n,t),a)}function Hf(){}function Xg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Zg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vf(n,l[1]))return l[0];if(l=t(),_a){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l}function Gf(t,n,a){return a===void 0||(Li&1073741824)!==0&&(Ct&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$p(),Tt.lanes|=t,Ar|=t,a)}function $g(t,n,a,l){return mn(a,n)?a:hs.current!==null?(t=Gf(t,a,l),mn(t,n)||(Se=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Ct&261930)===0?(Se=!0,t.memoizedState=a):(t=$p(),Tt.lanes|=t,Ar|=t,n)}function Jg(t,n,a,l,c){var h=tt.p;tt.p=h!==0&&8>h?h:8;var g=H.T,E={};H.T=E,Kf(t,!1,n,a);try{var R=c(),k=H.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=j0(R,l);Il(t,n,j,En(t))}else Il(t,n,l,En(t))}catch(Q){Il(t,n,{then:function(){},status:"rejected",reason:Q},En())}finally{tt.p=h,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function Y0(){}function Ff(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Wg(t).queue;Jg(t,c,n,ct,a===null?Y0:function(){return tp(t),a(l)})}function Wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tp(t){var n=Wg(t);n.next===null&&(n=t.alternate.memoizedState),Il(t,n.next.queue,{},En())}function Qf(){return qe(Ql)}function ep(){return de().memoizedState}function np(){return de().memoizedState}function X0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=pr(a);var l=yr(n,t,a);l!==null&&(un(l,n,a),bl(l,n,a)),n={cache:Tf()},t.payload=n;return}n=n.return}}function Z0(t,n,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Su(t)?rp(n,a):(a=cf(t,n,a,l),a!==null&&(un(a,t,l),ap(a,n,l)))}function ip(t,n,a){var l=En();Il(t,n,a,l)}function Il(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(t))rp(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,mn(E,g))return iu(t,n,c,0),Zt===null&&nu(),!1}catch{}finally{}if(a=cf(t,n,c,l),a!==null)return un(a,t,l),ap(a,n,l),!0}return!1}function Kf(t,n,a,l){if(l={lane:2,revertLane:wh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(n)throw Error(s(479))}else n=cf(t,a,l,2),n!==null&&un(n,t,2)}function Su(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function rp(t,n){ds=pu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ap(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,$s(t,a)}}var Nl={readContext:qe,use:vu,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se};Nl.useEffectEvent=se;var sp={readContext:qe,use:vu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Hg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Kg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(_a){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(_a){An(!0);try{a(n)}finally{An(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Z0.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Pf(t);var n=t.queue,a=ip.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,n){var a=tn();return Gf(a,t,n)},useTransition:function(){var t=Pf(!1);return t=Jg.bind(null,Tt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=tn();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Zt===null)throw Error(s(349));(Ct&127)!==0||Cg(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Hg(Ig.bind(null,l,h,t),[t]),l.flags|=2048,gs(9,{destroy:void 0},Dg.bind(null,l,h,a,n),null),a},useId:function(){var t=tn(),n=Zt.identifierPrefix;if(Ot){var a=yi,l=pi;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=yu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=H0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Qf,useFormState:kg,useActionState:kg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Kf.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:zf,useCacheRefresh:function(){return tn().memoizedState=X0.bind(null,Tt)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:qe,use:vu,useCallback:Xg,useContext:qe,useEffect:jf,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:Zg,useReducer:Eu,useRef:jg,useState:function(){return Eu(zi)},useDebugValue:Hf,useDeferredValue:function(t,n){var a=de();return $g(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Eu(zi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Rg,useId:ep,useHostTransitionStatus:Qf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var a=de();return Vg(a,Kt,t,n)},useMemoCache:zf,useCacheRefresh:np};Yf.useEffectEvent=Gg;var lp={readContext:qe,use:vu,useCallback:Xg,useContext:qe,useEffect:jf,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:Zg,useReducer:Bf,useRef:jg,useState:function(){return Bf(zi)},useDebugValue:Hf,useDeferredValue:function(t,n){var a=de();return Kt===null?Gf(a,t,n):$g(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Bf(zi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Rg,useId:ep,useHostTransitionStatus:Qf,useFormState:qg,useActionState:qg,useOptimistic:function(t,n){var a=de();return Kt!==null?Vg(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:np};lp.useEffectEvent=Gg;function Xf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),c=pr(l);c.payload=n,a!=null&&(c.callback=a),n=yr(t,c,l),n!==null&&(un(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),c=pr(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=yr(t,c,l),n!==null&&(un(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=pr(a);l.tag=2,n!=null&&(l.callback=n),n=yr(t,l,a),n!==null&&(un(n,t,a),bl(n,t,a))}};function op(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!pl(a,l)||!pl(c,h):!0}function up(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Zf.enqueueReplaceState(n,n.state,null)}function va(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function cp(t){eu(t)}function fp(t){console.error(t)}function hp(t){eu(t)}function bu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $f(t,n,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(t,n)},a}function mp(t){return t=pr(t),t.tag=3,t}function gp(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){dp(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){dp(n,a,l),typeof c!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function $0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ls(n,a,c,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Lu():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ah(t,l,c)),!1;case 22:return a.flags|=65536,l===fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ah(t,l,c)),!1}throw Error(s(435,a.tag))}return Ah(t,l,c),Lu(),!1}if(Ot)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==pf&&(t=Error(s(422),{cause:l}),vl(Dn(t,a)))):(l!==pf&&(n=Error(s(423),{cause:l}),vl(Dn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Dn(l,a),c=$f(t.stateNode,l,c),Cf(t,c),le!==4&&(le=2)),!1;var h=Error(s(520),{cause:l});if(h=Dn(h,a),kl===null?kl=[h]:kl.push(h),le!==4&&(le=2),n===null)return!0;l=Dn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=$f(a.stateNode,l,t),Cf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Sr===null||!Sr.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=mp(c),gp(c,t,a,l),Cf(a,c),!1}a=a.return}while(a!==null);return!1}var Jf=Error(s(461)),Se=!1;function je(t,n,a,l){n.child=t===null?vg(n,null,a,l):ya(n,t.child,a,l)}function pp(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return da(n),l=Mf(t,n,a,g,h,c),E=Uf(),t!==null&&!Se?(xf(t,n,c),ki(t,n,c)):(Ot&&E&&mf(n),n.flags|=1,je(t,n,l,c),n.child)}function yp(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!ff(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,_p(t,n,h,l,c)):(t=au(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!sh(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(g,l)&&t.ref===n.ref)return ki(t,n,c)}return n.flags|=1,t=Vi(h,l),t.ref=n.ref,t.return=n,n.child=t}function _p(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(pl(h,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=h,sh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,ki(t,n,c)}return Wf(t,n,a,l,c)}function vp(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Ep(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&uu(n,h!==null?h.cachePool:null),h!==null?Ag(n,h):If(),Sg(n);else return l=n.lanes=536870912,Ep(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(uu(n,h.cachePool),Ag(n,h),vr(),n.memoizedState=null):(t!==null&&uu(n,null),If(),vr());return je(t,n,c,a),n.child}function Ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ep(t,n,a,l,c){var h=Sf();return h=h===null?null:{parent:Te._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&uu(n,null),If(),Sg(n),t!==null&&ls(t,n,l,!0),n.childLanes=c,null}function wu(t,n){return n=Cu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Tp(t,n,a){return ya(n,t.child,null,a),t=wu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function J0(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=wu(n,l),n.lanes=536870912,Ol(null,t);if(Of(n),(t=Wt)?(t=My(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=n,n.child=a,Pe=n,Wt=null)):t=null,t===null)throw dr(n);return n.lanes=536870912,null}return wu(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(Of(n),c)if(n.flags&256)n.flags&=-257,n=Tp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||ls(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Zt,l!==null&&(g=Js(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,ua(t,g),un(l,t,g),Jf;Lu(),n=Tp(t,n,a)}else t=h.treeContext,Wt=Mn(g.nextSibling),Pe=n,Ot=!0,hr=null,On=!1,t!==null&&lg(n,t),n=wu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ru(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Wf(t,n,a,l,c){return da(n),a=Mf(t,n,a,l,void 0,c),l=Uf(),t!==null&&!Se?(xf(t,n,c),ki(t,n,c)):(Ot&&l&&mf(n),n.flags|=1,je(t,n,a,c),n.child)}function Ap(t,n,a,l,c,h){return da(n),n.updateQueue=null,a=wg(n,l,a,c),bg(t),l=Uf(),t!==null&&!Se?(xf(t,n,h),ki(t,n,h)):(Ot&&l&&mf(n),n.flags|=1,je(t,n,a,h),n.child)}function Sp(t,n,a,l,c){if(da(n),n.stateNode===null){var h=is,g=a.contextType;typeof g=="object"&&g!==null&&(h=qe(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},wf(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?qe(g):is,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Xf(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Zf.enqueueReplaceState(h,h.state,null),Rl(n,l,h,c),wl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,R=va(a,E);h.props=R;var k=h.context,j=a.contextType;g=is,typeof j=="object"&&j!==null&&(g=qe(j));var Q=a.getDerivedStateFromProps;j=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||k!==g)&&up(n,h,l,g),gr=!1;var B=n.memoizedState;h.state=B,Rl(n,l,h,c),wl(),k=n.memoizedState,E||B!==k||gr?(typeof Q=="function"&&(Xf(n,a,Q,l),k=n.memoizedState),(R=gr||op(n,a,R,l,B,k,g))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),h.props=l,h.state=k,h.context=g,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Rf(t,n),g=n.memoizedProps,j=va(a,g),h.props=j,Q=n.pendingProps,B=h.context,k=a.contextType,R=is,typeof k=="object"&&k!==null&&(R=qe(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Q||B!==R)&&up(n,h,l,R),gr=!1,B=n.memoizedState,h.state=B,Rl(n,l,h,c),wl();var q=n.memoizedState;g!==Q||B!==q||gr||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof E=="function"&&(Xf(n,a,E,l),q=n.memoizedState),(j=gr||op(n,a,j,l,B,q,R)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=R,l=j):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Ru(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ya(n,t.child,null,c),n.child=ya(n,null,a,c)):je(t,n,a,c),n.memoizedState=h.state,t=n.child):t=ki(t,n,c),t}function bp(t,n,a,l){return fa(),n.flags|=256,je(t,n,a,l),n.child}var th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eh(t){return{baseLanes:t,cachePool:dg()}}function nh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function wp(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?_r(n):vr(),(t=Wt)?(t=My(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=n,n.child=a,Pe=n,Wt=null)):t=null,t===null)throw dr(n);return kh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(vr(),c=n.mode,E=Cu({mode:"hidden",children:E},c),l=ca(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=eh(a),l.childLanes=nh(t,g,a),n.memoizedState=th,Ol(null,l)):(_r(n),ih(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(h)n.flags&256?(_r(n),n.flags&=-257,n=rh(t,n,a)):n.memoizedState!==null?(vr(),n.child=t.child,n.flags|=128,n=null):(vr(),E=l.fallback,c=n.mode,l=Cu({mode:"visible",children:l.children},c),E=ca(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ya(n,t.child,null,a),l=n.child,l.memoizedState=eh(a),l.childLanes=nh(t,g,a),n.memoizedState=th,n=Ol(null,l));else if(_r(n),kh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(s(419)),l.stack="",l.digest=g,vl({value:l,source:null,stack:null}),n=rh(t,n,a)}else if(Se||ls(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Zt,g!==null&&(l=Js(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,ua(t,l),un(g,t,l),Jf;zh(E)||Lu(),n=rh(t,n,a)}else zh(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Wt=Mn(E.nextSibling),Pe=n,Ot=!0,hr=null,On=!1,t!==null&&lg(n,t),n=ih(n,l.children),n.flags|=4096);return n}return c?(vr(),E=l.fallback,c=n.mode,R=t.child,k=R.sibling,l=Vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=Vi(k,E):(E=ca(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ol(null,l),l=n.child,E=t.child.memoizedState,E===null?E=eh(a):(c=E.cachePool,c!==null?(R=Te._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=dg(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=nh(t,g,a),n.memoizedState=th,Ol(t.child,l)):(_r(n),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function ih(t,n){return n=Cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Cu(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function rh(t,n,a){return ya(n,t.child,null,a),t=ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Rp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),vf(t.return,n,a)}function ah(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function Cp(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(he,g),je(t,n,l,a),l=Ot?_l:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,a,n);else if(t.tag===19)Rp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&gu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),ah(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&gu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}ah(n,!0,a,null,h,l);break;case"together":ah(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ki(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ar|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ls(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function W0(t,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),mr(n,Te,t.memoizedState.cache),fa();break;case 27:case 5:Fr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:mr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Of(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wp(t,n,a):(_r(n),t=ki(t,n,a),t!==null?t.sibling:null);_r(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ls(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Cp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(he,he.current),l)break;return null;case 22:return n.lanes=0,vp(t,n,a,n.pendingProps);case 24:mr(n,Te,t.memoizedState.cache)}return ki(t,n,a)}function Dp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!sh(t,a)&&(n.flags&128)===0)return Se=!1,W0(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&sg(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ga(n.elementType),n.type=t,typeof t=="function")ff(t)?(l=va(t,l),n.tag=1,n=Sp(null,n,t,l,a)):(n.tag=0,n=Wf(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===vt){n.tag=11,n=pp(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=yp(null,n,t,l,a);break t}}throw n=ee(t)||t,Error(s(306,n,""))}}return n;case 0:return Wf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=va(l,n.pendingProps),Sp(t,n,l,c,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Rf(t,n),Rl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,mr(n,Te,l),l!==h.cache&&Ef(n,[Te],a,!0),wl(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=bp(t,n,l,a);break t}else if(l!==c){c=Dn(Error(s(424)),n),vl(c),n=bp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Mn(t.firstChild),Pe=n,Ot=!0,hr=null,On=!0,a=vg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fa(),l===c){n=ki(t,n,a);break t}je(t,n,l,a)}n=n.child}return n;case 26:return Ru(t,n),t===null?(a=By(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Hu(At.current).createElement(a),l[_e]=n,l[Ue]=t,He(l,a,t),ve(l),n.stateNode=l):n.memoizedState=By(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fr(n),t===null&&Ot&&(l=n.stateNode=Ly(n.type,n.pendingProps,At.current),Pe=n,On=!0,c=Wt,Cr(n.type)?(Bh=c,Wt=Mn(l.firstChild)):Wt=c),je(t,n,n.pendingProps.children,a),Ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=Wt)&&(l=IA(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Pe=n,Wt=Mn(l.firstChild),On=!1,c=!0):c=!1),c||dr(n)),Fr(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,Uh(c,h)?l=null:g!==null&&Uh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Mf(t,n,G0,null,null,a),Ql._currentValue=c),Ru(t,n),je(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=Wt)&&(a=NA(a,n.pendingProps,On),a!==null?(n.stateNode=a,Pe=n,Wt=null,t=!0):t=!1),t||dr(n)),null;case 13:return wp(t,n,a);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ya(n,null,l,a):je(t,n,l,a),n.child;case 11:return pp(t,n,n.type,n.pendingProps,a);case 7:return je(t,n,n.pendingProps,a),n.child;case 8:return je(t,n,n.pendingProps.children,a),n.child;case 12:return je(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,mr(n,n.type,l.value),je(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,da(n),c=qe(c),l=l(c),n.flags|=1,je(t,n,l,a),n.child;case 14:return yp(t,n,n.type,n.pendingProps,a);case 15:return _p(t,n,n.type,n.pendingProps,a);case 19:return Cp(t,n,a);case 31:return J0(t,n,a);case 22:return vp(t,n,a,n.pendingProps);case 24:return da(n),l=qe(Te),t===null?(c=Sf(),c===null&&(c=Zt,h=Tf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},wf(n),mr(n,Te,c)):((t.lanes&a)!==0&&(Rf(t,n),Rl(n,null,null,a),wl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),mr(n,Te,l)):(l=h.cache,mr(n,Te,l),l!==c.cache&&Ef(n,[Te],a,!0))),je(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(t){t.flags|=4}function lh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(ey())t.flags|=8192;else throw pa=fu,bf}else t.flags&=-16777217}function Ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gy(n))if(ey())t.flags|=8192;else throw pa=fu,bf}function Du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Uo():536870912,t.lanes|=n,vs|=n)}function Vl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function tA(t,n,a){var l=n.pendingProps;switch(gf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xi(Te),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ss(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yf())),te(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Bi(n),h!==null?(te(n),Ip(n,h)):(te(n),lh(n,c,null,l,a))):h?h!==t.memoizedState?(Bi(n),te(n),Ip(n,h)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),te(n),lh(n,c,t,l,a)),null;case 27:if(ka(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=rt.current,ss(n)?og(n):(t=Ly(c,l,a),n.stateNode=t,Bi(n))}return te(n),null;case 5:if(ka(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(h=rt.current,ss(n))og(n);else{var g=Hu(At.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[_e]=n,h[Ue]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(He(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return te(n),lh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=At.current,ss(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wy(t.nodeValue,a)),t||dr(n,!0)}else t=Hu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ss(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[_e]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ss(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Du(n,n.updateQueue),te(n),null);case 4:return ne(),t===null&&Ih(n.stateNode.containerInfo),te(n),null;case 10:return xi(n.type),te(n),null;case 19:if(K(he),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)Vl(l,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=gu(t),h!==null){for(n.flags|=128,Vl(l,!1),t=h.updateQueue,n.updateQueue=t,Du(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ig(a,t),a=a.sibling;return et(he,he.current&1|2),Ot&&Mi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>Mu&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=gu(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Du(n,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ot)return te(n),null}else 2*Je()-l.renderingStartTime>Mu&&a!==536870912&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=he.current,et(he,c?a&1|2:a&1),Ot&&Mi(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return yn(n),Nf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Du(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(ma),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xi(Te),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function eA(t,n){switch(gf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xi(Te),ne(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ka(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));fa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(he),null;case 4:return ne(),null;case 10:return xi(n.type),null;case 22:case 23:return yn(n),Nf(),t!==null&&K(ma),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xi(Te),null;case 25:return null;default:return null}}function Np(t,n){switch(gf(n),n.tag){case 3:xi(Te),ne();break;case 26:case 27:case 5:ka(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(he);break;case 10:xi(n.type);break;case 22:case 23:yn(n),Nf(),t!==null&&K(ma);break;case 24:xi(Te)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Ft(n,n.return,E)}}function Er(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=a,k=E;try{k()}catch(j){Ft(c,R,j)}}}l=l.next}while(l!==h)}}catch(j){Ft(n,n.return,j)}}function Op(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Tg(n,a)}catch(l){Ft(t,t.return,l)}}}function Vp(t,n,a){a.props=va(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ft(t,n,l)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Ft(t,n,c)}}function _i(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ft(t,n,c)}else a.current=null}function Mp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ft(t,t.return,c)}}function oh(t,n,a){try{var l=t.stateNode;SA(l,t.type,a,n),l[Ue]=n}catch(c){Ft(t,t.return,c)}}function Up(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cr(t.type)||t.tag===4}function uh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Up(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ch(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ch(t,n,a),t=t.sibling;t!==null;)ch(t,n,a),t=t.sibling}function Iu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Iu(t,n,a),t=t.sibling;t!==null;)Iu(t,n,a),t=t.sibling}function xp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,a),n[_e]=t,n[Ue]=a}catch(h){Ft(t,t.return,h)}}var Pi=!1,be=!1,fh=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function nA(t,n){if(t=t.containerInfo,Vh=Zu,t=Ym(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,j=0,Q=t,B=null;e:for(;;){for(var q;Q!==a||c!==0&&Q.nodeType!==3||(E=g+c),Q!==h||l!==0&&Q.nodeType!==3||(R=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===t)break e;if(B===a&&++k===c&&(E=g),B===h&&++j===l&&(R=g),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mh={focusedElem:t,selectionRange:a},Zu=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var at=va(a.type,c);t=l.getSnapshotBeforeUpdate(at,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Ft(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Lh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function zp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&Ml(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Ft(a,a.return,g)}else{var c=va(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(a,a.return,g)}}l&64&&Op(a),l&512&&Ul(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tg(t,n)}catch(g){Ft(a,a.return,g)}}break;case 27:n===null&&l&4&&xp(a);case 26:case 5:ji(t,a),n===null&&l&4&&Mp(a),l&512&&Ul(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),l&4&&Pp(t,a);break;case 13:ji(t,a),l&4&&qp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fA.bind(null,a),OA(t,a))));break;case 22:if(l=a.memoizedState!==null||Pi,!l){n=n!==null&&n.memoizedState!==null||be,c=Pi;var h=be;Pi=l,(be=n)&&!h?Hi(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Pi=c,be=h}break;case 30:break;default:ji(t,a)}}function kp(t){var n=t.alternate;n!==null&&(t.alternate=null,kp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,an=!1;function qi(t,n,a){for(a=a.child;a!==null;)Bp(t,n,a),a=a.sibling}function Bp(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:be||_i(a,n),qi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||_i(a,n);var l=re,c=an;Cr(a.type)&&(re=a.stateNode,an=!1),qi(t,n,a),Hl(a.stateNode),re=l,an=c;break;case 5:be||_i(a,n);case 6:if(l=re,c=an,re=null,qi(t,n,a),re=l,an=c,re!==null)if(an)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(h){Ft(a,n,h)}else try{re.removeChild(a.stateNode)}catch(h){Ft(a,n,h)}break;case 18:re!==null&&(an?(t=re,Oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cs(t)):Oy(re,a.stateNode));break;case 4:l=re,c=an,re=a.stateNode.containerInfo,an=!0,qi(t,n,a),re=l,an=c;break;case 0:case 11:case 14:case 15:Er(2,a,n),be||Er(4,a,n),qi(t,n,a);break;case 1:be||(_i(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vp(a,n,l)),qi(t,n,a);break;case 21:qi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,qi(t,n,a),be=l;break;default:qi(t,n,a)}}function Pp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cs(t)}catch(a){Ft(n,n.return,a)}}}function qp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cs(t)}catch(a){Ft(n,n.return,a)}}function iA(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Lp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Lp),n;default:throw Error(s(435,t.tag))}}function Nu(t,n){var a=iA(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=hA.bind(null,t,l);l.then(c,c)}})}function sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){re=E.stateNode,an=!1;break t}break;case 5:re=E.stateNode,an=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(re===null)throw Error(s(160));Bp(h,g,c),re=null,an=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jp(n,t),n=n.sibling}var Yn=null;function jp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),l&4&&(Er(3,t,t.return),Ml(3,t),Er(5,t,t.return));break;case 1:sn(n,t),ln(t),l&512&&(be||a===null||_i(a,a.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Yn;if(sn(n,t),ln(t),l&512&&(be||a===null||_i(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ri]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),He(h,l,a),h[_e]=t,ve(h),l=h;break t;case"link":var g=jy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),He(h,l,a),c.head.appendChild(h);break;case"meta":if(g=jy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),He(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[_e]=t,ve(h),l=h}t.stateNode=l}else Hy(c,t.type,t.stateNode);else t.stateNode=qy(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Hy(c,t.type,t.stateNode):qy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&oh(t,t.memoizedProps,a.memoizedProps)}break;case 27:sn(n,t),ln(t),l&512&&(be||a===null||_i(a,a.return)),a!==null&&l&4&&oh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(sn(n,t),ln(t),l&512&&(be||a===null||_i(a,a.return)),t.flags&32){c=t.stateNode;try{rn(c,"")}catch(at){Ft(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,oh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(fh=!0);break;case 6:if(sn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(at){Ft(t,t.return,at)}}break;case 3:if(Qu=null,c=Yn,Yn=Gu(n.containerInfo),sn(n,t),Yn=c,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cs(n.containerInfo)}catch(at){Ft(t,t.return,at)}fh&&(fh=!1,Hp(t));break;case 4:l=Yn,Yn=Gu(t.stateNode.containerInfo),sn(n,t),ln(t),Yn=l;break;case 12:sn(n,t),ln(t);break;case 31:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nu(t,l)));break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nu(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=Pi,j=be;if(Pi=k||c,be=j||R,sn(n,t),be=j,Pi=k,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Pi||be||Ea(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(h=R.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Ft(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(at){Ft(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;c?Vy(q,!0):Vy(R.stateNode,!1)}catch(at){Ft(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nu(t,a))));break;case 19:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nu(t,l)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Up(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=uh(t);Iu(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(rn(g,""),a.flags&=-33);var E=uh(t);Iu(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=uh(t);ch(t,k,R);break;default:throw Error(s(161))}}catch(j){Ft(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(t,n.alternate,n),n=n.sibling}function Ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Er(4,n,n.return),Ea(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vp(n,n.return,a),Ea(n);break;case 27:Hl(n.stateNode);case 26:case 5:_i(n,n.return),Ea(n);break;case 22:n.memoizedState===null&&Ea(n);break;case 30:Ea(n);break;default:Ea(n)}t=t.sibling}}function Hi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Hi(c,h,a),Ml(4,h);break;case 1:if(Hi(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Ft(l,l.return,k)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Eg(R[c],E)}catch(k){Ft(l,l.return,k)}}a&&g&64&&Op(h),Ul(h,h.return);break;case 27:xp(h);case 26:case 5:Hi(c,h,a),a&&l===null&&g&4&&Mp(h),Ul(h,h.return);break;case 12:Hi(c,h,a);break;case 31:Hi(c,h,a),a&&g&4&&Pp(c,h);break;case 13:Hi(c,h,a),a&&g&4&&qp(c,h);break;case 22:h.memoizedState===null&&Hi(c,h,a),Ul(h,h.return);break;case 30:break;default:Hi(c,h,a)}n=n.sibling}}function hh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function dh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gp(t,n,a,l),n=n.sibling}function Gp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),c&2048&&Ml(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(c&2048){Xn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ft(n,n.return,R)}}else Xn(t,n,a,l);break;case 31:Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Xn(t,n,a,l):xl(t,n):h._visibility&2?Xn(t,n,a,l):(h._visibility|=2,ps(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&hh(g,n);break;case 24:Xn(t,n,a,l),c&2048&&dh(n.alternate,n);break;default:Xn(t,n,a,l)}}function ps(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,R=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:ps(h,g,E,R,c),Ml(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?ps(h,g,E,R,c):xl(h,g):(j._visibility|=2,ps(h,g,E,R,c)),c&&k&2048&&hh(g.alternate,g);break;case 24:ps(h,g,E,R,c),c&&k&2048&&dh(g.alternate,g);break;default:ps(h,g,E,R,c)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:xl(a,l),c&2048&&hh(l.alternate,l);break;case 24:xl(a,l),c&2048&&dh(l.alternate,l);break;default:xl(a,l)}n=n.sibling}}var Ll=8192;function ys(t,n,a){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)Fp(t,n,a),t=t.sibling}function Fp(t,n,a){switch(t.tag){case 26:ys(t,n,a),t.flags&Ll&&t.memoizedState!==null&&HA(a,Yn,t.memoizedState,t.memoizedProps);break;case 5:ys(t,n,a);break;case 3:case 4:var l=Yn;Yn=Gu(t.stateNode.containerInfo),ys(t,n,a),Yn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,ys(t,n,a),Ll=l):ys(t,n,a));break;default:ys(t,n,a)}}function Qp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Yp(l,t)}Qp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kp(t),t=t.sibling}function Kp(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&Er(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ou(t)):zl(t);break;default:zl(t)}}function Ou(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Yp(l,t)}Qp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Er(8,n,n.return),Ou(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ou(n));break;default:Ou(n)}t=t.sibling}}function Yp(t,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Er(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=t;Le!==null;){l=Le;var c=l.sibling,h=l.return;if(kp(l),l===a){Le=null;break t}if(c!==null){c.return=h,Le=c;break t}Le=h}}}var rA={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},aA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,wt=null,Ct=0,Gt=0,_n=null,Tr=!1,_s=!1,mh=!1,Gi=0,le=0,Ar=0,Ta=0,gh=0,vn=0,vs=0,kl=null,on=null,ph=!1,Vu=0,Xp=0,Mu=1/0,Uu=null,Sr=null,Oe=0,br=null,Es=null,Fi=0,yh=0,_h=null,Zp=null,Bl=0,vh=null;function En(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?wh():xo()}function $p(){if(vn===0)if((Ct&536870912)===0||Ot){var t=Yr;Yr<<=1,(Yr&3932160)===0&&(Yr=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===Zt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ts(t,0),wr(t,Ct,vn,!1)),Xr(t,a),((Bt&2)===0||t!==Zt)&&(t===Zt&&((Bt&2)===0&&(Ta|=a),le===4&&wr(t,Ct,vn,!1)),vi(t))}function Jp(t,n,a){if((Bt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),c=l?oA(t,n):Th(t,n,!0),h=l;do{if(c===0){_s&&!l&&wr(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!sA(a)){c=Th(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=kl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ts(E,g).flags|=256),g=Th(E,g,!1),g!==2){if(mh&&!R){E.errorRecoveryDisabledLanes|=h,Ta|=h,c=4;break t}h=on,on=c,h!==null&&(on===null?on=h:on.push.apply(on,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Ts(t,0),wr(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:wr(l,n,vn,!Tr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Vu+300-Je(),10<c)){if(wr(l,n,vn,!Tr),ei(l,0,!0)!==0)break t;Fi=n,l.timeoutHandle=Iy(Wp.bind(null,l,a,on,Uu,ph,n,vn,Ta,vs,Tr,h,"Throttled",-0,0),c);break t}Wp(l,a,on,Uu,ph,n,vn,Ta,vs,Tr,h,null,-0,0)}}break}while(!0);vi(t)}function Wp(t,n,a,l,c,h,g,E,R,k,j,Q,B,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Fp(n,h,Q);var at=(h&62914560)===h?Vu-Je():(h&4194048)===h?Xp-Je():0;if(at=GA(Q,at),at!==null){Fi=h,t.cancelPendingCommit=at(ly.bind(null,t,n,h,a,l,c,g,E,R,j,Q,null,B,q)),wr(t,h,g,!k);return}}ly(t,n,h,a,l,c,g,E,R)}function sA(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!mn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wr(t,n,a,l){n&=~gh,n&=~Ta,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-ce(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&Zr(t,a,n)}function xu(){return(Bt&6)===0?(Pl(0),!1):!0}function Eh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Ui=ha=null,Lf(t),fs=null,Al=0,t=wt;for(;t!==null;)Np(t.alternate,t),t=t.return;wt=null}}function Ts(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Fi=0,Eh(),Zt=t,wt=a=Vi(t.current,null),Ct=n,Gt=0,_n=null,Tr=!1,_s=Bn(t,n),mh=!1,vs=vn=gh=Ta=Ar=le=0,on=kl=null,ph=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),h=1<<c;n|=t[c],l&=~h}return Gi=n,nu(),a}function ty(t,n){Tt=null,H.H=Nl,n===cs||n===cu?(n=pg(),Gt=3):n===bf?(n=pg(),Gt=4):Gt=n===Jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,wt===null&&(le=1,bu(t,Dn(n,t.current)))}function ey(){var t=pn.current;return t===null?!0:(Ct&4194048)===Ct?Vn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?t===Vn:!1}function ny(){var t=H.H;return H.H=Nl,t===null?Nl:t}function iy(){var t=H.A;return H.A=rA,t}function Lu(){le=4,Tr||(Ct&4194048)!==Ct&&pn.current!==null||(_s=!0),(Ar&134217727)===0&&(Ta&134217727)===0||Zt===null||wr(Zt,Ct,vn,!1)}function Th(t,n,a){var l=Bt;Bt|=2;var c=ny(),h=iy();(Zt!==t||Ct!==n)&&(Uu=null,Ts(t,n)),n=!1;var g=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,R=_n;switch(Gt){case 8:Eh(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var k=Gt;if(Gt=0,_n=null,As(t,E,R,k),a&&_s){g=0;break t}break;default:k=Gt,Gt=0,_n=null,As(t,E,R,k)}}lA(),g=le;break}catch(j){ty(t,j)}while(!0);return n&&t.shellSuspendCounter++,Ui=ha=null,Bt=l,H.H=c,H.A=h,wt===null&&(Zt=null,Ct=0,nu()),g}function lA(){for(;wt!==null;)ry(wt)}function oA(t,n){var a=Bt;Bt|=2;var l=ny(),c=iy();Zt!==t||Ct!==n?(Uu=null,Mu=Je()+500,Ts(t,n)):_s=Bn(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var h=_n;e:switch(Gt){case 1:Gt=0,_n=null,As(t,n,h,1);break;case 2:case 9:if(mg(h)){Gt=0,_n=null,ay(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==t||(Gt=7),vi(t)},h.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:mg(h)?(Gt=0,_n=null,ay(n)):(Gt=0,_n=null,As(t,n,h,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?Gy(g):E.stateNode.complete){Gt=0,_n=null;var R=E.sibling;if(R!==null)wt=R;else{var k=E.return;k!==null?(wt=k,zu(k)):wt=null}break e}}Gt=0,_n=null,As(t,n,h,5);break;case 6:Gt=0,_n=null,As(t,n,h,6);break;case 8:Eh(),le=6;break t;default:throw Error(s(462))}}uA();break}catch(j){ty(t,j)}while(!0);return Ui=ha=null,H.H=l,H.A=c,Bt=a,wt!==null?0:(Zt=null,Ct=0,nu(),le)}function uA(){for(;wt!==null&&!Zc();)ry(wt)}function ry(t){var n=Dp(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?zu(t):wt=n}function ay(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ap(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Ap(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:Lf(n);default:Np(a,n),n=wt=ig(n,Gi),n=Dp(a,n,Gi)}t.memoizedProps=t.pendingProps,n===null?zu(t):wt=n}function As(t,n,a,l){Ui=ha=null,Lf(n),fs=null,Al=0;var c=n.return;try{if($0(t,c,n,a,Ct)){le=1,bu(t,Dn(a,t.current)),wt=null;return}}catch(h){if(c!==null)throw wt=c,h;le=1,bu(t,Dn(a,t.current)),wt=null;return}n.flags&32768?(Ot||l===1?t=!0:_s||(Ct&536870912)!==0?t=!1:(Tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):zu(n)}function zu(t){var n=t;do{if((n.flags&32768)!==0){sy(n,Tr);return}t=n.return;var a=tA(n.alternate,n,Gi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function sy(t,n){do{var a=eA(t.alternate,t);if(a!==null){a.flags&=32767,wt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=a}while(t!==null);le=6,wt=null}function ly(t,n,a,l,c,h,g,E,R){t.cancelPendingCommit=null;do ku();while(Oe!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=uf,Wc(t,a,h,g,E,R),t===Zt&&(wt=Zt=null,Ct=0),Es=n,br=t,Fi=a,yh=h,_h=c,Zp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dA(er,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,g=Bt,Bt|=4;try{nA(t,n,a)}finally{Bt=g,tt.p=c,H.T=l}}Oe=1,oy(),uy(),cy()}}function oy(){if(Oe===1){Oe=0;var t=br,n=Es,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Bt;Bt|=4;try{jp(n,t);var h=Mh,g=Ym(t.containerInfo),E=h.focusedElem,R=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&Km(E.ownerDocument.documentElement,E)){if(R!==null&&rf(E)){var k=R.start,j=R.end;if(j===void 0&&(j=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(j,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),at=E.textContent.length,ht=Math.min(R.start,at),Xt=R.end===void 0?ht:Math.min(R.end,at);!q.extend&&ht>Xt&&(g=Xt,Xt=ht,ht=g);var M=Qm(E,ht),I=Qm(E,Xt);if(M&&I&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var z=Q.createRange();z.setStart(M.node,M.offset),q.removeAllRanges(),ht>Xt?(q.addRange(z),q.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),q.addRange(z))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Zu=!!Vh,Mh=Vh=null}finally{Bt=c,tt.p=l,H.T=a}}t.current=n,Oe=2}}function uy(){if(Oe===2){Oe=0;var t=br,n=Es,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Bt;Bt|=4;try{zp(t,n.alternate,n)}finally{Bt=c,tt.p=l,H.T=a}}Oe=3}}function cy(){if(Oe===4||Oe===3){Oe=0,Do();var t=br,n=Es,a=Fi,l=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Es=br=null,fy(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Sr=null),Di(a),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Fi&3)!==0&&ku(),vi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===vh?Bl++:(Bl=0,vh=t):Bl=0,Pl(0)}}function fy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function ku(){return oy(),uy(),cy(),hy()}function hy(){if(Oe!==5)return!1;var t=br,n=yh;yh=0;var a=Di(Fi),l=H.T,c=tt.p;try{tt.p=32>a?32:a,H.T=null,a=_h,_h=null;var h=br,g=Fi;if(Oe=0,Es=br=null,Fi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,Kp(h.current),Gp(h,h.current,g,a),Bt=E,Pl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(kn,h)}catch{}return!0}finally{tt.p=c,H.T=l,fy(t,n)}}function dy(t,n,a){n=Dn(a,n),n=$f(t.stateNode,n,2),t=yr(t,n,2),t!==null&&(Xr(t,2),vi(t))}function Ft(t,n,a){if(t.tag===3)dy(t,t,a);else for(;n!==null;){if(n.tag===3){dy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sr===null||!Sr.has(l))){t=Dn(a,t),a=mp(2),l=yr(n,a,2),l!==null&&(gp(a,l,n,t),Xr(l,2),vi(l));break}}n=n.return}}function Ah(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aA;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(mh=!0,c.add(a),t=cA.bind(null,t,n,a),n.then(t,t))}function cA(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Zt===t&&(Ct&a)===a&&(le===4||le===3&&(Ct&62914560)===Ct&&300>Je()-Vu?(Bt&2)===0&&Ts(t,0):gh|=a,vs===Ct&&(vs=0)),vi(t)}function my(t,n){n===0&&(n=Uo()),t=ua(t,n),t!==null&&(Xr(t,n),vi(t))}function fA(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),my(t,a)}function hA(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),my(t,a)}function dA(t,n){return Ne(t,n)}var Bu=null,Ss=null,Sh=!1,Pu=!1,bh=!1,Rr=0;function vi(t){t!==Ss&&t.next===null&&(Ss===null?Bu=Ss=t:Ss=Ss.next=t),Pu=!0,Sh||(Sh=!0,gA())}function Pl(t,n){if(!bh&&Pu){bh=!0;do for(var a=!1,l=Bu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-ce(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,_y(l,h))}else h=Ct,h=ei(l,l===Zt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Bn(l,h)||(a=!0,_y(l,h));l=l.next}while(a);bh=!1}}function mA(){gy()}function gy(){Pu=Sh=!1;var t=0;Rr!==0&&wA()&&(t=Rr);for(var n=Je(),a=null,l=Bu;l!==null;){var c=l.next,h=py(l,n);h===0?(l.next=null,a===null?Bu=c:a.next=c,c===null&&(Ss=a)):(a=l,(t!==0||(h&3)!==0)&&(Pu=!0)),l=c}Oe!==0&&Oe!==5||Pl(t),Rr!==0&&(Rr=0)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-ce(h),E=1<<g,R=c[g];R===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Jc(E,n)):R<=n&&(t.expiredLanes|=E),h&=~E}if(n=Zt,a=Ct,a=ei(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&tr(l),Di(a)){case 2:case 8:a=Zs;break;case 32:a=er;break;case 268435456:a=Io;break;default:a=er}return l=yy.bind(null,t),a=Ne(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&tr(l),t.callbackPriority=2,t.callbackNode=null,2}function yy(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ku()&&t.callbackNode!==a)return null;var l=Ct;return l=ei(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jp(t,l,n),py(t,Je()),t.callbackNode!=null&&t.callbackNode===a?yy.bind(null,t):null)}function _y(t,n){if(ku())return null;Jp(t,n,!0)}function gA(){CA(function(){(Bt&6)!==0?Ne(Xs,mA):gy()})}function wh(){if(Rr===0){var t=os;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Rr=t}return Rr}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function Ey(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function pA(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=vy((c[Ue]||null).action),g=l.submitter;g&&(n=(n=g[Ue]||null)?vy(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new hi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rr!==0){var R=g?Ey(c,g):new FormData(c);Ff(a,{pending:!0,data:R,method:c.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=g?Ey(c,g):new FormData(c),Ff(a,{pending:!0,data:R,method:c.method,action:h},h,R))},currentTarget:c}]})}}for(var Rh=0;Rh<of.length;Rh++){var Ch=of[Rh],yA=Ch.toLowerCase(),_A=Ch[0].toUpperCase()+Ch.slice(1);Kn(yA,"on"+_A)}Kn($m,"onAnimationEnd"),Kn(Jm,"onAnimationIteration"),Kn(Wm,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(U0,"onTransitionRun"),Kn(x0,"onTransitionStart"),Kn(L0,"onTransitionCancel"),Kn(tg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Ty(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=k;try{h(c)}catch(j){eu(j)}c.currentTarget=null,h=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=k;try{h(c)}catch(j){eu(j)}c.currentTarget=null,h=R}}}}function Rt(t,n){var a=n[ja];a===void 0&&(a=n[ja]=new Set);var l=t+"__bubble";a.has(l)||(Ay(n,t,2,!1),a.add(l))}function Dh(t,n,a){var l=0;n&&(l|=4),Ay(a,t,l,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Ih(t){if(!t[qu]){t[qu]=!0,Ws.forEach(function(a){a!=="selectionchange"&&(vA.has(a)||Dh(a,!1,t),Dh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[qu]||(n[qu]=!0,Dh("selectionchange",!1,n))}}function Ay(t,n,a,l){switch($y(n)){case 2:var c=KA;break;case 8:c=YA;break;default:c=Gh}a=c.bind(null,n,a,t),c=void 0,!ea||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Nh(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=h=g;continue t}E=E.parentNode}}l=l.return}lr(function(){var k=h,j=bn(a),Q=[];t:{var B=eg.get(t);if(B!==void 0){var q=hi,at=t;switch(t){case"keypress":if(ia(a)===0)break t;case"keydown":case"keyup":q=Jo;break;case"focusin":at="focus",q=aa;break;case"focusout":at="blur",q=aa;break;case"beforeblur":case"afterblur":q=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ho;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case $m:case Jm:case Wm:q=Fo;break;case tg:q=T;break;case"scroll":case"scrollend":q=fl;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Et}var ht=(n&4)!==0,Xt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?B!==null?B+"Capture":null:B;ht=[];for(var I=k,z;I!==null;){var F=I;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||M===null||(F=Hn(I,M),F!=null&&ht.push(jl(I,F,z))),Xt)break;I=I.return}0<ht.length&&(B=new q(B,at,null,a,j),Q.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==ol&&(at=a.relatedTarget||a.fromElement)&&(ai(at)||at[ii]))break t;if((q||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=k,at=at?ai(at):null,at!==null&&(Xt=f(at),ht=at.tag,at!==Xt||ht!==5&&ht!==27&&ht!==6)&&(at=null)):(q=null,at=k),q!==at)){if(ht=hl,F="onMouseLeave",M="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Oi,F="onPointerLeave",M="onPointerEnter",I="pointer"),Xt=q==null?B:hn(q),z=at==null?B:hn(at),B=new ht(F,I+"leave",q,a,j),B.target=Xt,B.relatedTarget=z,F=null,ai(j)===k&&(ht=new ht(M,I+"enter",at,a,j),ht.target=z,ht.relatedTarget=Xt,F=ht),Xt=F,q&&at)e:{for(ht=EA,M=q,I=at,z=0,F=M;F;F=ht(F))z++;F=0;for(var ot=I;ot;ot=ht(ot))F++;for(;0<z-F;)M=ht(M),z--;for(;0<F-z;)I=ht(I),F--;for(;z--;){if(M===I||I!==null&&M===I.alternate){ht=M;break e}M=ht(M),I=ht(I)}ht=null}else ht=null;q!==null&&Sy(Q,B,q,ht,!1),at!==null&&Xt!==null&&Sy(Q,Xt,at,ht,!0)}}t:{if(B=k?hn(k):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Lt=Pm;else if(km(B))if(qm)Lt=O0;else{Lt=I0;var st=D0}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Qa(k.elementType)&&(Lt=Pm):Lt=N0;if(Lt&&(Lt=Lt(t,k))){Bm(Q,Lt,a,j);break t}st&&st(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&al(B,"number",B.value)}switch(st=k?hn(k):window,t){case"focusin":(km(st)||st.contentEditable==="true")&&(ts=st,af=k,yl=null);break;case"focusout":yl=af=ts=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Xm(Q,a,j);break;case"selectionchange":if(M0)break;case"keydown":case"keyup":Xm(Q,a,j)}var St;if(kt)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Wa?sa(t,a)&&(Dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(gi&&a.locale!=="ko"&&(Wa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Wa&&(St=cl()):(fi=j,ul="value"in fi?fi.value:fi.textContent,Wa=!0)),st=ju(k,Dt),0<st.length&&(Dt=new mi(Dt,t,null,a,j),Q.push({event:Dt,listeners:st}),St?Dt.data=St:(St=Ja(a),St!==null&&(Dt.data=St)))),(St=Rn?b0(t,a):w0(t,a))&&(Dt=ju(k,"onBeforeInput"),0<Dt.length&&(st=new mi("onBeforeInput","beforeinput",null,a,j),Q.push({event:st,listeners:Dt}),st.data=St)),pA(Q,t,k,a,j)}Ty(Q,n)})}function jl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ju(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Hn(t,a),c!=null&&l.unshift(jl(t,c,h)),c=Hn(t,n),c!=null&&l.push(jl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function EA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sy(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||k===null||(R=k,c?(k=Hn(a,h),k!=null&&g.unshift(jl(a,k,R))):c||(k=Hn(a,h),k!=null&&g.push(jl(a,k,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var TA=/\r\n?/g,AA=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(AA,"")}function wy(t,n){return n=by(n),by(t)===n}function Yt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":ll(t,l,h);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Ga(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jo.get(a)||a,Ga(t,a,l))}}function Oh(t,n,a,l,c,h){switch(a){case"style":ll(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Ue]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ga(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,h,g,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=h=g=c=null,R=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":c=j;break;case"type":g=j;break;case"checked":R=j;break;case"defaultChecked":k=j;break;case"value":h=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Yt(t,n,l,j,a,null)}}Bo(t,h,E,R,k,g,c,!1);return;case"select":Rt("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?ir(t,!!l,n,!1):a!=null&&ir(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,g,E,a,null)}rr(t,l,c,h);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)Rt(ql[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,k,l,a,null)}return;default:if(Qa(n)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&Oh(t,n,j,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function SA(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,R=null,k=null,j=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,Q)}}for(var B in l){var q=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":h=q;break;case"name":c=q;break;case"checked":k=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Yt(t,n,B,q,l,Q)}}Fa(t,g,E,R,k,j,h,c);return;case"select":q=g=E=B=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(h)||Yt(t,n,h,null,l,R)}for(c in l)if(h=l[c],R=a[c],l.hasOwnProperty(c)&&(h!=null||R!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==R&&Yt(t,n,c,h,l,R)}n=E,a=g,l=q,B!=null?ir(t,!!a,B,!1):!!l!=!!a&&(n!=null?ir(t,!!a,n,!0):ir(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Yt(t,n,g,c,l,h)}Po(t,B,q);return;case"option":for(var at in a)if(B=a[at],a.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Yt(t,n,at,null,l,B)}for(R in l)if(B=l[R],q=a[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,B);for(k in l)if(B=l[k],q=a[k],l.hasOwnProperty(k)&&B!==q&&(B!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,k,B,l,q)}return;default:if(Qa(n)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&Oh(t,n,Xt,void 0,l,B);for(j in l)B=l[j],q=a[j],!l.hasOwnProperty(j)||B===q||B===void 0&&q===void 0||Oh(t,n,j,B,l,q);return}}for(var M in a)B=a[M],a.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,B);for(Q in l)B=l[Q],q=a[Q],!l.hasOwnProperty(Q)||B===q||B==null&&q==null||Yt(t,n,Q,B,l,q)}function Ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Ry(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],k=R.startTime;if(k>E)break;var j=R.transferSize,Q=R.initiatorType;j&&Ry(Q)&&(R=R.responseEnd,g+=j*(R<E?1:(E-k)/(R-k)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vh=null,Mh=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function Cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Uh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xh=null;function wA(){var t=window.event;return t&&t.type==="popstate"?t===xh?!1:(xh=t,!0):(xh=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(DA)}:Iy;function DA(t){setTimeout(function(){throw t})}function Cr(t){return t==="head"}function Oy(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Cs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Hl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&Hl(t.ownerDocument.body);a=c}while(a);Cs(n)}function Vy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Lh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lh(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IA(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function NA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function My(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function zh(t){return t.data==="$?"||t.data==="$~"}function kh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Bh=null;function Uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function xy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Ly(t,n,a){switch(n=Hu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ha(t)}var Un=new Map,zy=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=tt.d;tt.d={f:VA,r:MA,D:UA,C:xA,L:LA,m:zA,X:BA,S:kA,M:PA};function VA(){var t=Qi.f(),n=xu();return t||n}function MA(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?tp(n):Qi.r(t)}var bs=typeof document>"u"?null:document;function ky(t,n,a){var l=bs;if(l&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),zy.has(c)||(zy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function UA(t){Qi.D(t),ky("dns-prefetch",t,null)}function xA(t,n){Qi.C(t,n),ky("preconnect",t,n)}function LA(t,n,a){Qi.L(t,n,a);var l=bs;if(l&&t&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+nn(a.imageSizes)+'"]')):c+='[href="'+nn(t)+'"]';var h=c;switch(n){case"style":h=ws(t);break;case"script":h=Rs(t)}Un.has(h)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Un.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Gl(h))||n==="script"&&l.querySelector(Fl(h))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function zA(t,n){Qi.m(t,n);var a=bs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Rs(t)}if(!Un.has(h)&&(t=b({rel:"modulepreload",href:t},n),Un.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(h)))return}l=a.createElement("link"),He(l,"link",t),ve(l),a.head.appendChild(l)}}}function kA(t,n,a){Qi.S(t,n,a);var l=bs;if(l&&t){var c=si(l).hoistableStyles,h=ws(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Gl(h)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Un.get(h))&&Ph(t,a);var R=g=l.createElement("link");ve(R),He(R,"link",t),R._p=new Promise(function(k,j){R.onload=k,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Fu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function BA(t,n){Qi.X(t,n);var a=bs;if(a&&t){var l=si(a).hoistableScripts,c=Rs(t),h=l.get(c);h||(h=a.querySelector(Fl(c)),h||(t=b({src:t,async:!0},n),(n=Un.get(c))&&qh(t,n),h=a.createElement("script"),ve(h),He(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function PA(t,n){Qi.M(t,n);var a=bs;if(a&&t){var l=si(a).hoistableScripts,c=Rs(t),h=l.get(c);h||(h=a.querySelector(Fl(c)),h||(t=b({src:t,async:!0,type:"module"},n),(n=Un.get(c))&&qh(t,n),h=a.createElement("script"),ve(h),He(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function By(t,n,a,l){var c=(c=At.current)?Gu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ws(a.href),a=si(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ws(a.href);var h=si(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Gl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),h||qA(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rs(a),a=si(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ws(t){return'href="'+nn(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function qA(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),ve(n),t.head.appendChild(n))}function Rs(t){return'[src="'+nn(t)+'"]'}function Fl(t){return"script[async]"+t}function qy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",c),Fu(l,a.precedence,t),n.instance=l;case"stylesheet":c=ws(a.href);var h=t.querySelector(Gl(c));if(h)return n.state.loading|=4,n.instance=h,ve(h),h;l=Py(a),(c=Un.get(c))&&Ph(l,c),h=(t.ownerDocument||t).createElement("link"),ve(h);var g=h;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(h,"link",l),n.state.loading|=4,Fu(h,a.precedence,t),n.instance=h;case"script":return h=Rs(a.src),(c=t.querySelector(Fl(h)))?(n.instance=c,ve(c),c):(l=a,(c=Un.get(h))&&(l=b({},a),qh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Fu(l,a.precedence,t));return n.instance}function Fu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ph(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Qu=null;function jy(t,n,a){if(Qu===null){var l=new Map,c=Qu=new Map;c.set(a,l)}else c=Qu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[ri]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function Hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function jA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function HA(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=ws(l.href),h=n.querySelector(Gl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ku.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,ve(h);return}h=n.ownerDocument||n,l=Py(l),(c=Un.get(c))&&Ph(l,c),h=h.createElement("link"),ve(h);var g=h;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ku.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var jh=0;function GA(t,n){return t.stylesheets&&t.count===0&&Xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&jh===0&&(jh=62500*bA());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>jh?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function Xu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,n.forEach(FA,t),Yu=null,Ku.call(t))}function FA(t,n){if(!(n.state.loading&4)){var a=Yu.get(t);if(a)var l=a.get(null);else{a=new Map,Yu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=Ku.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ql={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function QA(t,n,a,l,c,h,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Fy(t,n,a,l,c,h,g,E,R,k,j,Q){return t=new QA(t,n,a,g,R,k,j,Q,E),n=1,h===!0&&(n|=24),h=gn(3,null,null,n),t.current=h,h.stateNode=t,n=Tf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},wf(h),t}function Qy(t){return t?(t=is,t):is}function Ky(t,n,a,l,c,h){c=Qy(c),l.context===null?l.context=c:l.pendingContext=c,l=pr(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=yr(t,l,n),a!==null&&(un(a,t,n),bl(a,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Hh(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Xy(t){if(t.tag===13||t.tag===31){var n=ua(t,67108864);n!==null&&un(n,t,67108864),Hh(t,67108864)}}function Zy(t){if(t.tag===13||t.tag===31){var n=En();n=$r(n);var a=ua(t,n);a!==null&&un(a,t,n),Hh(t,n)}}var Zu=!0;function KA(t,n,a,l){var c=H.T;H.T=null;var h=tt.p;try{tt.p=2,Gh(t,n,a,l)}finally{tt.p=h,H.T=c}}function YA(t,n,a,l){var c=H.T;H.T=null;var h=tt.p;try{tt.p=8,Gh(t,n,a,l)}finally{tt.p=h,H.T=c}}function Gh(t,n,a,l){if(Zu){var c=Fh(l);if(c===null)Nh(t,n,l,$u,a),Jy(t,l);else if(ZA(c,t,n,a,l))l.stopPropagation();else if(Jy(t,l),n&4&&-1<XA.indexOf(t)){for(;c!==null;){var h=Sn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=ti(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}vi(h),(Bt&6)===0&&(Mu=Je()+500,Pl(0))}}break;case 31:case 13:E=ua(h,2),E!==null&&un(E,h,2),xu(),Hh(h,2)}if(h=Fh(l),h===null&&Nh(t,n,l,$u,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else Nh(t,n,l,null,a)}}function Fh(t){return t=bn(t),Qh(t)}var $u=null;function Qh(t){if($u=null,t=ai(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return $u=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kr()){case Xs:return 2;case Zs:return 8;case er:case $c:return 32;case Io:return 268435456;default:return 32}default:return 32}}var Kh=!1,Dr=null,Ir=null,Nr=null,Kl=new Map,Yl=new Map,Or=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(t,n){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function Xl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Sn(n),n!==null&&Xy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function ZA(t,n,a,l,c){switch(n){case"focusin":return Dr=Xl(Dr,t,n,a,l,c),!0;case"dragenter":return Ir=Xl(Ir,t,n,a,l,c),!0;case"mouseover":return Nr=Xl(Nr,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Kl.set(h,Xl(Kl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Yl.set(h,Xl(Yl.get(h)||null,t,n,a,l,c)),!0}return!1}function Wy(t){var n=ai(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Pn(t.priority,function(){Zy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Pn(t.priority,function(){Zy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Fh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return n=Sn(a),n!==null&&Xy(n),t.blockedOn=a,!1;n.shift()}return!0}function t_(t,n,a){Ju(t)&&a.delete(n)}function $A(){Kh=!1,Dr!==null&&Ju(Dr)&&(Dr=null),Ir!==null&&Ju(Ir)&&(Ir=null),Nr!==null&&Ju(Nr)&&(Nr=null),Kl.forEach(t_),Yl.forEach(t_)}function Wu(t,n){t.blockedOn===n&&(t.blockedOn=null,Kh||(Kh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$A)))}var tc=null;function e_(t){tc!==t&&(tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tc===t&&(tc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Qh(l||a)===null)continue;break}var h=Sn(a);h!==null&&(t.splice(n,3),n-=3,Ff(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Cs(t){function n(R){return Wu(R,t)}Dr!==null&&Wu(Dr,t),Ir!==null&&Wu(Ir,t),Nr!==null&&Wu(Nr,t),Kl.forEach(n),Yl.forEach(n);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Ue]||null;if(typeof h=="function")g||e_(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Ue]||null)E=g.formAction;else if(Qh(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),e_(a)}}}function n_(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Yh(t){this._internalRoot=t}ec.prototype.render=Yh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=En();Ky(a,l,t,n,null,null)},ec.prototype.unmount=Yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ky(t.current,2,null,t,null,null),xu(),n[ii]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=xo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Or.length&&n!==0&&n<Or[a].priority;a++);Or.splice(a,0,t),a===0&&Wy(t)}};var i_=e.version;if(i_!=="19.2.0")throw Error(s(527,i_,"19.2.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var JA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{kn=nc.inject(JA),ke=nc}catch{}}return $l.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=cp,h=fp,g=hp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Fy(t,1,!1,null,null,a,l,null,c,h,g,n_),t[ii]=n.current,Ih(t),new Yh(n)},$l.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",h=cp,g=fp,E=hp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Fy(t,1,!0,n,a??null,l,c,R,h,g,E,n_),n.context=Qy(null),a=n.current,l=En(),l=$r(l),c=pr(l),c.callback=null,yr(a,c,l),a=l,n.current.lanes=a,Xr(n,a),vi(n),t[ii]=n.current,Ih(t),new ec(n)},$l.version="19.2.0",$l}var d_;function u1(){if(d_)return $h.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$h.exports=o1(),$h.exports}var c1=u1();const f1=jv(c1);function h1({onAdd:r}){const[e,i]=Vs.useState(""),[s,o]=Vs.useState(null);function f(d){d.preventDefault(),e.trim()&&(r(e.trim(),s),i(""),o(null))}return me.jsxs("form",{className:"todo-form",onSubmit:f,children:[me.jsx("input",{type:"text",placeholder:"Enter todo...",value:e,onChange:d=>i(d.target.value)}),me.jsx("input",{type:"file",accept:"image/*",onChange:d=>o(d.target.files?.[0]||null)}),me.jsx("button",{type:"submit",children:"Add"})]})}function d1({todos:r}){return r.length===0?me.jsx("p",{children:"No todos yet"}):me.jsx("div",{className:"todo-list",children:r.map(e=>me.jsxs("div",{className:"todo-item",children:[me.jsx("p",{children:e.text}),e.imageUrl&&me.jsx("img",{src:e.imageUrl,alt:"todo",style:{width:"140px",borderRadius:"6px",marginTop:"8px"}}),me.jsx("small",{children:e.createdAt?.toDate?e.createdAt.toDate().toLocaleString():""})]},e.id))})}const m1=()=>{};var m_={};const Hv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},g1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,A=f>>2,b=(f&3)<<4|p>>4;let U=(p&15)<<2|y>>6,G=y&63;v||(G=64,d||(U=64)),s.push(i[A],i[b],i[U],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Hv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):g1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||p==null||y==null||b==null)throw new p1;const U=f<<2|p>>4;if(s.push(U),y!==64){const G=p<<4&240|y>>2;if(s.push(G),b!==64){const $=y<<6&192|b;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class p1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y1=function(r){const e=Hv(r);return Gv.encodeByteArray(e,!0)},yc=function(r){return y1(r).replace(/\./g,"")},_1=function(r){try{return Gv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function v1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E1=()=>v1().__FIREBASE_DEFAULTS__,T1=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},A1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_1(r[1]);return e&&JSON.parse(e)},Hd=()=>{try{return m1()||E1()||T1()||A1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S1=r=>Hd()?.emulatorHosts?.[r],Fv=r=>{const e=S1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Qv=()=>Hd()?.config;class b1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kv(r){return(await fetch(r,{credentials:"include"})).ok}function Yv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yc(JSON.stringify(i)),yc(JSON.stringify(d)),""].join(".")}const io={};function w1(){const r={prod:[],emulator:[]};for(const e of Object.keys(io))io[e]?r.emulator.push(e):r.prod.push(e);return r}function R1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let g_=!1;function Xv(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||io[r]===e||io[r]||g_)return;io[r]=e;function i(U){return`__firebase__banner__${U}`}const s="__firebase__banner",f=w1().prod.length>0;function d(){const U=document.getElementById(s);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,G){U.setAttribute("width","24"),U.setAttribute("id",G),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function y(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{g_=!0,d()},U}function A(U,G){U.setAttribute("id",G),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function b(){const U=R1(s),G=i("text"),$=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ft=i("preprendIcon"),mt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const lt=U.element;p(lt),A(Z,W);const vt=y();v(mt,ft),lt.append(mt,$,Z,vt),document.body.appendChild(lt)}f?($.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function C1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){const r=Hd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return!D1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zv(){try{return typeof indexedDB=="object"}catch{return!1}}function $v(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function N1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const O1="FirebaseError";class Gr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=O1,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?V1(f,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Gr(o,p,s)}}function V1(r,e){return r.replace(M1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const M1=/\{\$([^}]+)}/g;function _c(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=r[o],d=e[o];if(p_(f)&&p_(d)){if(!_c(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function p_(r){return r!==null&&typeof r=="object"}function fn(r){return r&&r._delegate?r._delegate:r}class Ri{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class U1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new b1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L1(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const f=this.instances.get(s);return f&&e(f,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:x1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x1(r){return r===Aa?void 0:r}function L1(r){return r.instantiationMode==="EAGER"}class z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new U1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const k1={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},B1=Ut.INFO,P1={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},q1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=P1[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const j1=(r,e)=>e.some(i=>r instanceof i);let y_,__;function H1(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,_d=new WeakMap,tE=new WeakMap,ed=new WeakMap,Gd=new WeakMap;function F1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Yi(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Wv.set(i,r)}).catch(()=>{}),Gd.set(e,r),e}function Q1(r){if(_d.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});_d.set(r,e)}let vd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return _d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tE.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yi(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function K1(r){vd=r(vd)}function Y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(nd(this),e,...i);return tE.set(s,e.sort?e.sort():[e]),Yi(s)}:G1().includes(r)?function(...e){return r.apply(nd(this),e),Yi(Wv.get(this))}:function(...e){return Yi(r.apply(nd(this),e))}}function X1(r){return typeof r=="function"?Y1(r):(r instanceof IDBTransaction&&Q1(r),j1(r,H1())?new Proxy(r,vd):r)}function Yi(r){if(r instanceof IDBRequest)return F1(r);if(ed.has(r))return ed.get(r);const e=X1(r);return e!==r&&(ed.set(r,e),Gd.set(e,r)),e}const nd=r=>Gd.get(r);function Uc(r,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),p=Yi(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Yi(d.result),v.oldVersion,v.newVersion,Yi(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}function id(r,{blocked:e}={}){const i=indexedDB.deleteDatabase(r);return e&&i.addEventListener("blocked",s=>e(s.oldVersion,s)),Yi(i).then(()=>{})}const Z1=["get","getKey","getAll","getAllKeys","count"],$1=["put","add","delete","clear"],rd=new Map;function v_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rd.get(e))return rd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=$1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Z1.includes(i)))return;const f=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return rd.set(e,f),f}K1(r=>({...r,get:(e,i,s)=>v_(e,i)||r.get(e,i,s),has:(e,i)=>!!v_(e,i)||r.has(e,i)}));class J1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(W1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function W1(r){return r.getComponent()?.type==="VERSION"}const Ed="@firebase/app",E_="0.14.6";const Zi=new Jv("@firebase/app"),tS="@firebase/app-compat",eS="@firebase/analytics-compat",nS="@firebase/analytics",iS="@firebase/app-check-compat",rS="@firebase/app-check",aS="@firebase/auth",sS="@firebase/auth-compat",lS="@firebase/database",oS="@firebase/data-connect",uS="@firebase/database-compat",cS="@firebase/functions",fS="@firebase/functions-compat",hS="@firebase/installations",dS="@firebase/installations-compat",mS="@firebase/messaging",gS="@firebase/messaging-compat",pS="@firebase/performance",yS="@firebase/performance-compat",_S="@firebase/remote-config",vS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",AS="@firebase/firestore",SS="@firebase/ai",bS="@firebase/firestore-compat",wS="firebase",RS="12.6.0";const Td="[DEFAULT]",CS={[Ed]:"fire-core",[tS]:"fire-core-compat",[nS]:"fire-analytics",[eS]:"fire-analytics-compat",[rS]:"fire-app-check",[iS]:"fire-app-check-compat",[aS]:"fire-auth",[sS]:"fire-auth-compat",[lS]:"fire-rtdb",[oS]:"fire-data-connect",[uS]:"fire-rtdb-compat",[cS]:"fire-fn",[fS]:"fire-fn-compat",[hS]:"fire-iid",[dS]:"fire-iid-compat",[mS]:"fire-fcm",[gS]:"fire-fcm-compat",[pS]:"fire-perf",[yS]:"fire-perf-compat",[_S]:"fire-rc",[vS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[AS]:"fire-fst",[bS]:"fire-fst-compat",[SS]:"fire-vertex","fire-js":"fire-js",[wS]:"fire-js-all"};const vc=new Map,DS=new Map,Ad=new Map;function T_(r,e){try{r.container.addComponent(e)}catch(i){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function $i(r){const e=r.name;if(Ad.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,r);for(const i of vc.values())T_(i,r);for(const i of DS.values())T_(i,r);return!0}function Ao(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function eE(r){return r==null?!1:r.settings!==void 0}const IS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Mc("app","Firebase",IS);class NS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const nE=RS;function iE(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Td,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(i||(i=Qv()),!i)throw xr.create("no-options");const f=vc.get(o);if(f){if(_c(i,f.options)&&_c(s,f.config))return f;throw xr.create("duplicate-app",{appName:o})}const d=new z1(o);for(const v of Ad.values())d.addComponent(v);const p=new NS(i,s,d);return vc.set(o,p),p}function Fd(r=Td){const e=vc.get(r);if(!e&&r===Td&&Qv())return iE();if(!e)throw xr.create("no-app",{appName:r});return e}function zn(r,e,i){let s=CS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}$i(new Ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const OS="firebase-heartbeat-database",VS=1,co="firebase-heartbeat-store";let ad=null;function rE(){return ad||(ad=Uc(OS,VS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(co)}catch(i){console.warn(i)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),ad}async function MS(r){try{const i=(await rE()).transaction(co),s=await i.objectStore(co).get(aE(r));return await i.done,s}catch(e){if(e instanceof Gr)Zi.warn(e.message);else{const i=xr.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(i.message)}}}async function A_(r,e){try{const s=(await rE()).transaction(co,"readwrite");await s.objectStore(co).put(e,aE(r)),await s.done}catch(i){if(i instanceof Gr)Zi.warn(i.message);else{const s=xr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(s.message)}}}function aE(r){return`${r.name}!${r.options.appId}`}const US=1024,xS=30;class LS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>xS){const o=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S_(),{heartbeatsToSend:i,unsentEntries:s}=zS(this._heartbeatsCache.heartbeats),o=yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Zi.warn(e),""}}}function S_(){return new Date().toISOString().substring(0,10)}function zS(r,e=US){const i=[];let s=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),b_(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),b_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class kS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zv()?$v().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function b_(r){return yc(JSON.stringify({version:2,heartbeats:r})).length}function BS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function PS(r){$i(new Ri("platform-logger",e=>new J1(e),"PRIVATE")),$i(new Ri("heartbeat",e=>new LS(e),"PRIVATE")),zn(Ed,E_,r),zn(Ed,E_,"esm2020"),zn("fire-js","")}PS("");var qS="firebase",jS="12.6.0";zn(qS,jS,"app");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lr,sE;(function(){var r;function e(D,S){function C(){}C.prototype=S.prototype,D.F=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(V,N,x){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],N=D.g[2];let x=D.g[3],w;w=S+(x^C&(N^x))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=x+(N^S&(C^N))+V[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(C^x&(S^C))+V[2]+606105819&4294967295,N=x+(w<<17&4294967295|w>>>15),w=C+(S^N&(x^S))+V[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(x^C&(N^x))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=x+(N^S&(C^N))+V[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(C^x&(S^C))+V[6]+2821735955&4294967295,N=x+(w<<17&4294967295|w>>>15),w=C+(S^N&(x^S))+V[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(x^C&(N^x))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=x+(N^S&(C^N))+V[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(C^x&(S^C))+V[10]+4294925233&4294967295,N=x+(w<<17&4294967295|w>>>15),w=C+(S^N&(x^S))+V[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(x^C&(N^x))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=x+(N^S&(C^N))+V[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(C^x&(S^C))+V[14]+2792965006&4294967295,N=x+(w<<17&4294967295|w>>>15),w=C+(S^N&(x^S))+V[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(N^x&(C^N))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=x+(C^N&(S^C))+V[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(x^S))+V[11]+643717713&4294967295,N=x+(w<<14&4294967295|w>>>18),w=C+(x^S&(N^x))+V[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^x&(C^N))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=x+(C^N&(S^C))+V[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(x^S))+V[15]+3634488961&4294967295,N=x+(w<<14&4294967295|w>>>18),w=C+(x^S&(N^x))+V[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^x&(C^N))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=x+(C^N&(S^C))+V[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(x^S))+V[3]+4107603335&4294967295,N=x+(w<<14&4294967295|w>>>18),w=C+(x^S&(N^x))+V[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^x&(C^N))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=x+(C^N&(S^C))+V[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(x^S))+V[7]+1735328473&4294967295,N=x+(w<<14&4294967295|w>>>18),w=C+(x^S&(N^x))+V[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(C^N^x)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=x+(S^C^N)+V[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^C)+V[11]+1839030562&4294967295,N=x+(w<<16&4294967295|w>>>16),w=C+(N^x^S)+V[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^x)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=x+(S^C^N)+V[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^C)+V[7]+4139469664&4294967295,N=x+(w<<16&4294967295|w>>>16),w=C+(N^x^S)+V[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^x)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=x+(S^C^N)+V[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^C)+V[3]+3572445317&4294967295,N=x+(w<<16&4294967295|w>>>16),w=C+(N^x^S)+V[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^x)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=x+(S^C^N)+V[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^C)+V[15]+530742520&4294967295,N=x+(w<<16&4294967295|w>>>16),w=C+(N^x^S)+V[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(N^(C|~x))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=x+(C^(S|~N))+V[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~C))+V[14]+2878612391&4294967295,N=x+(w<<15&4294967295|w>>>17),w=C+(x^(N|~S))+V[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~x))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=x+(C^(S|~N))+V[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~C))+V[10]+4293915773&4294967295,N=x+(w<<15&4294967295|w>>>17),w=C+(x^(N|~S))+V[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~x))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=x+(C^(S|~N))+V[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~C))+V[6]+2734768916&4294967295,N=x+(w<<15&4294967295|w>>>17),w=C+(x^(N|~S))+V[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~x))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=x+(C^(S|~N))+V[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~C))+V[2]+718787259&4294967295,N=x+(w<<15&4294967295|w>>>17),w=C+(x^(N|~S))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+x&4294967295}s.prototype.v=function(D,S){S===void 0&&(S=D.length);const C=S-this.blockSize,V=this.C;let N=this.h,x=0;for(;x<S;){if(N==0)for(;x<=C;)o(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<S;)if(V[N++]=D.charCodeAt(x++),N==this.blockSize){o(this,V),N=0;break}}else for(;x<S;)if(V[N++]=D[x++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)D[S++]=this.g[C]>>>V&255;return D};function f(D,S){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function d(D,S){this.h=S;const C=[];let V=!0;for(let N=D.length-1;N>=0;N--){const x=D[N]|0;V&&x==S||(C[N]=x,V=!1)}this.g=C}var p={};function v(D){return-128<=D&&D<128?f(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return Z(y(-D));const S=[];let C=1;for(let V=0;D>=C;V++)S[V]=D/C|0,C*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return Z(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=b;for(let x=0;x<D.length;x+=8){var N=Math.min(8,D.length-x);const w=parseInt(D.substring(x,x+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var b=v(0),U=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-Z(this).m();let D=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);D+=(V>=0?V:4294967296+V)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(W(this))return"-"+Z(this).toString(D);const S=y(Math.pow(D,6));var C=this;let V="";for(;;){const N=vt(C,S).g;C=ft(C,N.j(S));let x=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=N,$(C))return x+V;for(;x.length<6;)x="0"+x;V=x+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=ft(this,D),W(D)?-1:$(D)?0:1};function Z(D){const S=D.g.length,C=[];for(let V=0;V<S;V++)C[V]=~D.g[V];return new d(C,~D.h).add(U)}r.abs=function(){return W(this)?Z(this):this},r.add=function(D){const S=Math.max(this.g.length,D.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let x=V+(this.i(N)&65535)+(D.i(N)&65535),w=(x>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=w>>>16,x&=65535,w&=65535,C[N]=w<<16|x}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(D,S){return D.add(Z(S))}r.j=function(D){if($(this)||$(D))return b;if(W(this))return W(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(W(D))return Z(this.j(Z(D)));if(this.l(G)<0&&D.l(G)<0)return y(this.m()*D.m());const S=this.g.length+D.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<D.g.length;N++){const x=this.i(V)>>>16,w=this.i(V)&65535,ee=D.i(N)>>>16,De=D.i(N)&65535;C[2*V+2*N]+=w*De,mt(C,2*V+2*N),C[2*V+2*N+1]+=x*De,mt(C,2*V+2*N+1),C[2*V+2*N+1]+=w*ee,mt(C,2*V+2*N+1),C[2*V+2*N+2]+=x*ee,mt(C,2*V+2*N+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new d(C,0)};function mt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function lt(D,S){this.g=D,this.h=S}function vt(D,S){if($(S))throw Error("division by zero");if($(D))return new lt(b,b);if(W(D))return S=vt(Z(D),S),new lt(Z(S.g),Z(S.h));if(W(S))return S=vt(D,Z(S)),new lt(Z(S.g),S.h);if(D.g.length>30){if(W(D)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var C=U,V=S;V.l(D)<=0;)C=Pt(C),V=Pt(V);var N=bt(C,1),x=bt(V,1);for(V=bt(V,2),C=bt(C,2);!$(V);){var w=x.add(V);w.l(D)<=0&&(N=N.add(C),x=w),V=bt(V,1),C=bt(C,1)}return S=ft(D,N.j(S)),new lt(N,S)}for(N=b;D.l(S)>=0;){for(C=Math.max(1,Math.floor(D.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),x=y(C),w=x.j(S);W(w)||w.l(D)>0;)C-=V,x=y(C),w=x.j(S);$(x)&&(x=U),N=N.add(x),D=ft(D,w)}return new lt(N,D)}r.B=function(D){return vt(this,D).h},r.and=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&D.i(V);return new d(C,this.h&D.h)},r.or=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|D.i(V);return new d(C,this.h|D.h)},r.xor=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^D.i(V);return new d(C,this.h^D.h)};function Pt(D){const S=D.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(C,D.h)}function bt(D,S){const C=S>>5;S%=32;const V=D.g.length-C,N=[];for(let x=0;x<V;x++)N[x]=S>0?D.i(x+C)>>>S|D.i(x+C+1)<<32-S:D.i(x+C);return new d(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,sE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Lr=d}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,Wl,oE,fc,Sd,uE,cE,fE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ic=="object"&&ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var f=f||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,P){for(var J=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)J[Et-2]=arguments[Et];return m.prototype[L].apply(T,J)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const P=L.length||0;u.length=_+P;for(let J=0;J<P;J++)u[_+J]=L[J]}else u.push(L)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,_){const T=lt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var lt=new W(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,bt=!1,D=new mt,S=()=>{const u=Promise.resolve(void 0);Pt=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){Z(_)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}bt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ee,N),ee.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function jt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let P=0;P<K.length;P++)_=K[P],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const J=At(u,m,T,L);return J>-1?(m=u[J],_||(m.fa=!1)):(m=new tt(m,this.src,P,!!T,L),m.fa=_,u.push(m)),m};function gt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!_&&P.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ne(u,m,_,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ne(u,m[P],_,T,L);return null}return _=Ys(_),u&&u[De]?u.J(m,_,p(T)?!!T.capture:!1,L):Fr(u,m,_,!1,T,L)}function Fr(u,m,_,T,L,P){if(!m)throw Error("Invalid event type");const J=p(L)?!!L.capture:!!L;let Et=Qr(u);if(Et||(u[Vt]=Et=new rt(u)),_=Et.add(m,_,T,J,P),_.proxy)return _;if(T=ka(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)x||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ka(){function u(_){return m.call(u.src,u.listener,_)}const m=Qs;return u}function Ba(u,m,_,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Ba(u,m[P],_,T,L);else T=p(T)?!!T.capture:!!T,_=Ys(_),u&&u[De]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],_=At(m,_,T,L),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Qr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,L)),(_=u>-1?m[u]:null)&&Pa(_))}function Pa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])gt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Jn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Qr(m))?(gt(_,u),_.h==0&&(_.src=null,m[Vt]=null)):ct(u)}}}function Jn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function Qs(u,m){if(u.da)u=!0;else{m=new ee(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Pa(u),u=_.call(T,m)}return u}function Qr(u){return u=u[Vt],u instanceof rt?u:null}var Ks="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ys(u){return typeof u=="function"?u:(u[Ks]||(u[Ks]=function(m){return u.handleEvent(m)}),u[Ks])}function pe(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}b(pe,V),pe.prototype[De]=!0,pe.prototype.removeEventListener=function(u,m,_,T){Ba(this,u,m,_,T)};function Ne(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let P,J;if(_)for(J=_.length-1;J>=0;J--)P=m.g=_[J],L=tr(P,T,!0,m)&&L;if(P=m.g=u,L=tr(P,T,!0,m)&&L,L=tr(P,T,!1,m)&&L,_)for(J=0;J<_.length;J++)P=m.g=_[J],L=tr(P,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ct(_[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pe.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function tr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const J=m[P];if(J&&!J.da&&J.capture==_){const Et=J.listener,fe=J.ha||J.src;J.fa&&gt(u.i,J),L=Et.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function Zc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Do(u){u.g=Zc(()=>{u.g=null,u.i&&(u.i=!1,Do(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){V.call(this),this.h=u,this.g={}}b(Kr,V);var Xs=[];function Zs(u){xt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Pa(m)},u),u.g={}}Kr.prototype.N=function(){Kr.Z.N.call(this),Zs(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=d.JSON.stringify,$c=d.JSON.parse,Io=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function No(){}function Oo(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}b(ke,N);function An(){N.call(this,"c")}b(An,N);var ce={},Vo=null;function qa(){return Vo=Vo||new pe}ce.Ia="serverreachability";function Mo(u){N.call(this,ce.Ia,u)}b(Mo,N);function Wn(u){const m=qa();Ne(m,new Mo(m))}ce.STAT_EVENT="statevent";function Yr(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(Yr,N);function ye(u){const m=qa();Ne(m,new Yr(m,u))}ce.Ja="timingevent";function ti(u,m){N.call(this,ce.Ja,u),this.size=m}b(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Jc(u,m,_,T,L,P){u.info(function(){if(u.g)if(P){var J="",Et=P.split("&");for(let kt=0;kt<Et.length;kt++){var fe=Et[kt].split("=");if(fe.length>1){const ie=fe[0];fe=fe[1];const Rn=ie.split("_");J=Rn.length>=2&&Rn[1]=="type"?J+(ie+"="+fe+"&"):J+(ie+"=redacted&")}}}else J=null;else J=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+J})}function Uo(u,m,_,T,L,P,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+P+" "+J})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wc(u,_)+(T?" "+T:"")})}function Xr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Wc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var _=P[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return er(P)}catch{return m}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$s={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Js;function $r(){}b($r,No),$r.prototype.g=function(){return new XMLHttpRequest},Js=new $r;function Di(u){return encodeURIComponent(String(u))}function xo(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new Kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var _e={},Ue={};function ii(u,m,_){u.M=1,u.A=Jr(Ee(m)),u.u=_,u.R=!0,ja(u,null)}function ja(u,m){u.F=Date.now(),ri(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Qa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new qn,u.g=Zo(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Xs[0]=L.toString()),L=Xs);for(let P=0;P<L.length;P++){const J=ne(_,L[P],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Jc(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Gn(this.g),fe=this.g.ya(),kt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Et!=4||fe==7||(fe==8||kt<=0?Wn(3):Wn(2)),ai(this);var m=this.g.ca();this.X=m;var _=tf(this);if(this.o=m==200,Uo(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var P=T;break e}}P=null}if(u=P)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),Sn(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<_.length;)if(ie=zo(this,_),ie==Ue){Et==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==_e){this.m=4,ye(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,ie,null),si(this,ie);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),dl(J),J.P=!0,ye(11))}}else ni(this.i,this.l,_,null),si(this,_);Et==4&&hn(this),this.o&&!this.K&&(Et==4?Qo(this.j,this):(this.o=!1,ri(this)))}else Ni(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),Sn(this)}}}catch{}finally{}};function tf(u){if(!Lo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let _="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,_+=u.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Lo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function zo(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ue:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?Ue:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(u){u.T=Date.now()+u.H,Ha(u,u.H)}function Ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Xr(this.i,this.B),this.M!=2&&(Wn(),ye(17)),hn(this),this.m=2,Sn(this)):Ha(this,this.T-u)};function Sn(u){u.j.I==0||u.K||Qo(u.j,u)}function hn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||oi(_.h,u))){if(!u.L&&oi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)$a(_),ur(_);else break t;aa(_),ye(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(y(_.Va,_),6e3));li(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&$a(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let kt=L[m];const ie=kt[0];if(!(ie<=_.K))if(_.K=ie,kt=kt[1],_.I==2)if(kt[0]=="c"){_.M=kt[1],_.ba=kt[2];const Rn=kt[3];Rn!=null&&(_.ka=Rn,_.j.info("VER="+_.ka));const gi=kt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Fn=kt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const sa=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var P=T.h;P.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(el(P,P.h),P.h=null))}if(T.G){const Ja=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(T.wa=Ja,Ht(T.J,T.G,Ja))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var J=u;if(T.na=Xo(T,T.L?T.ba:null,T.W),J.L){nl(T.h,J);var Et=J,fe=T.O;fe&&(Et.H=fe),Et.D&&(ai(Et),ri(Et)),T.g=J}else Go(T);_.i.length>0&&di(_)}else kt[0]!="stop"&&kt[0]!="close"||mi(_,7);else _.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?mi(_,7):fl(_):kt[0]!="noop"&&_.l&&_.l.qa(kt),_.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Ws(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function el(u,m){u.g?u.g.add(m):u.h=m}function nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ws.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,P=null;T>=0?(L=u[_].substring(0,T),P=u[_].substring(T+1)):L=u[_],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,nr(this,u.u),this.h=u.h,rl(this,jo(u.i)),this.m=u.m):u&&(m=String(u).match(ko))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),nr(this,m[4]),this.h=ui(m[5]||"",!0),rl(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Wr(m,Fa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wr(m,Fa,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Wr(_,_.charAt(0)=="/"?al:Bo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Wr(_,Po)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?xe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)nr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let J=0;J<L.length;){const Et=L[J++];Et=="."?T&&J==L.length&&P.push(""):Et==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&J==L.length&&P.push("")):(P.push(Et),T=!0)}T=P.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?rl(m,jo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new dn(u)}function xe(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function nr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function rl(u,m,_){m instanceof rr?(u.i=m,Ka(u.i,u.l)):(_||(m=Wr(m,ir)),u.i=new rr(m,u.l))}function Ht(u,m,_){u.i.set(m,_)}function Jr(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fa=/[#\/\?@]/g,Bo=/[#\?:]/g,al=/[#\?]/g,ir=/[#\?@]/g,Po=/#/g;function rr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ga(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=rr.prototype,r.add=function(u,m){rn(this),this.i=null,u=ar(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function qo(u,m){rn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function sl(u,m){return rn(u),m=ar(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function ll(u,m){rn(u);let _=[];if(typeof m=="string")sl(u,m)&&(_=_.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=ar(this,u),sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ll(this,u),u.length>0?String(u[0]):m):m};function Qa(u,m,_){qo(u,m),_.length>0&&(u.i=null,u.g.set(ar(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Di(_);_=ll(this,_);for(let P=0;P<_.length;P++){let J=L;_[P]!==""&&(J+="="+Di(_[P])),u.push(J)}}return this.i=u.join("&")};function jo(u){const m=new rr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ka(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(qo(this,T),Qa(this,L,_))},u)),u.j=m}function jn(u,m){const _=new Bn;if(d.Image){const T=new Image;T.onload=A(bn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(bn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(bn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(bn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ol(u,m){const _=new Bn,T=new AbortController,L=setTimeout(()=>{T.abort(),bn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?bn(_,"TestPingServer: ok",!0,m):bn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(_,"TestPingServer: error",!1,m)})}function bn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function sr(){this.g=new Io}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ci,No),ci.prototype.g=function(){return new ta(this.i,this.h)};function ta(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ta,pe),r=ta.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):Hn(this),this.readyState==3&&Ya(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},r.Na=function(u){this.g&&(this.response=u,lr(this))},r.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return xt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function ea(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=wn(_),typeof u=="string"?_!=null&&Di(_):Ht(u,m,_))}function Qt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Qt,pe);var fi=/^https?$/i,ul=["POST","PUT"];r=Qt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Js.g(),this.g.onreadystatechange=U(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){na(this,P);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())_.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ul,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,J]of _)this.g.setRequestHeader(P,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){na(this,P)}};function na(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,cl(u),Ii(u)}function cl(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},r.Xa=function(){ia(this)};function ia(u){if(u.h&&typeof f<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=P===0){let J=String(u.D).match(ko)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!fi.test(J?J.toLowerCase():"")}_=T}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",cl(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$c(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=xo(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const P=m[L]||[];m[L]=P,P.push(_)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function or(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ws(u&&u.concurrentRequestLimit),this.Ba=new sr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=or.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Xo(this,null,this.W),di(this)};function fl(u){if(Xa(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Ht(_,"SID",u.M),Ht(_,"RID",m),Ht(_,"TYPE","terminate"),ra(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=Jr(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Zo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}Yo(u)}function ur(u){u.g&&(dl(u),u.g.cancel(),u.g=null)}function Xa(u){ur(u),u.v&&(d.clearTimeout(u.v),u.v=null),$a(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Pt||S(),bt||(Pt(),bt=!0),D.add(m,u),u.D=0}}function Za(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),Ko(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=O(P),et(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Ho(this,L,m),_=Ee(this.J),Ht(_,"RID",u),Ht(_,"CVER",22),this.G&&Ht(_,"X-HTTP-Session-Id",this.G),ra(this,_),P&&(this.R?m="headers="+Di(wn(P))+"&"+m:this.u&&ea(_,this.u,P)),el(this.h,L),this.Ra&&Ht(_,"TYPE","init"),this.S?(Ht(_,"$req",m),Ht(_,"SID","null"),L.U=!0,ii(L,_,null)):ii(L,_,m),this.I=2}}else this.I==3&&(u?hl(this,u):this.i.length==0||tl(this.h)||hl(this))};function hl(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Ht(T,"SID",u.M),Ht(T,"RID",_),Ht(T,"AID",u.K),ra(u,T),u.u&&u.o&&ea(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ho(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),el(u.h,_),ii(_,T,m)}function ra(u,m){u.H&&xt(u.H,function(_,T){Ht(m,T,_)}),u.l&&xt({},function(_,T){Ht(m,T,_)})}function Ho(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const fe=["count="+_];Et==-1?_>0?(Et=L[0].g,fe.push("ofs="+Et)):Et=0:fe.push("ofs="+Et);let kt=!0;for(let ie=0;ie<_;ie++){var P=L[ie].g;const Rn=L[ie].map;if(P-=Et,P<0)Et=Math.max(0,L[ie].g-100),kt=!1;else try{P="req"+P+"_"||"";try{var J=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Fn]of J){let Qn=Fn;p(Fn)&&(Qn=er(Fn)),fe.push(P+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw fe.push(P+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Rn)}}if(kt){J=fe.join("&");break t}}J=void 0}return u=u.i.splice(0,_),m.G=u,J}function Go(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Pt||S(),bt||(Pt(),bt=!0),D.add(m,u),u.A=0}}function aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),Ko(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ur(this),Fo(this))};function dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Fo(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),ra(u,m),u.u&&u.o&&ea(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Jr(Ee(m)),_.u=null,_.R=!0,ja(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ur(this),aa(this),ye(19))};function $a(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Qo(u,m){var _=null;if(u.g==m){$a(u),dl(u),u.g=null;var T=2}else if(oi(u.h,m))_=m.G,nl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=qa(),Ne(T,new ti(T,_)),di(u)}else Go(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Za(u,m)||T==2&&aa(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Ko(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),Jr(T),L?jn(T.toString(),_):ol(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),Yo(u),Xa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Yo(u){if(u.I=0,u.ja=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Xo(u,m,_){var T=_ instanceof dn?Ee(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),nr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new dn(null);T&&xe(P,T),m&&(P.g=m),L&&nr(P,L),_&&(P.h=_),T=P}return _=u.G,m=u.wa,_&&m&&Ht(T,_,m),Ht(T,"VER",u.ka),ra(u,T),T}function Zo(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new ci({ab:_})):new Qt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $o(){}r=$o.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function cr(){}cr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new or(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}b(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){fl(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=er(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,We.Z.N.call(this)};function Jo(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Jo,ke);function Wo(){An.call(this),this.status=1}b(Wo,An);function Oi(u){this.g=u}b(Oi,$o),Oi.prototype.ra=function(){Ne(this.g,"a")},Oi.prototype.qa=function(u){Ne(this.g,new Jo(u))},Oi.prototype.pa=function(u){Ne(this.g,new Wo)},Oi.prototype.oa=function(){Ne(this.g,"b")},cr.prototype.createWebChannel=cr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,fE=function(){return new cr},cE=function(){return qa()},uE=ce,Sd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,fc=Zr,$s.COMPLETE="complete",oE=$s,Oo.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Wl=Oo,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,lE=Qt}).apply(typeof ic<"u"?ic:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",C_="4.9.2";class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let qs="12.3.0";const Da=new Jv("@firebase/firestore");function Ds(){return Da.logLevel}function it(r,...e){if(Da.logLevel<=Ut.DEBUG){const i=e.map(Qd);Da.debug(`Firestore (${qs}): ${r}`,...i)}}function Ji(r,...e){if(Da.logLevel<=Ut.ERROR){const i=e.map(Qd);Da.error(`Firestore (${qs}): ${r}`,...i)}}function xs(r,...e){if(Da.logLevel<=Ut.WARN){const i=e.map(Qd);Da.warn(`Firestore (${qs}): ${r}`,...i)}}function Qd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function dt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,hE(r,s,i)}function hE(r,e,i){let s=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ji(s),new Error(s)}function qt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||hE(e,o,s)}function _t(r,e){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Gr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class dE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class GS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class FS{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new wa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new wa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new dE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class QS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new QS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,eE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=f=>{f.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const o=f=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Kd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XS(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%62))}return s}}function It(r,e){return r<e?-1:r>e?1:0}function bd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),f=e.charAt(s);if(o!==f)return sd(o)===sd(f)?It(o,f):sd(o)?1:-1}return It(r.length,e.length)}const ZS=55296,$S=57343;function sd(r){const e=r.charCodeAt(0);return e>=ZS&&e<=$S}function Ls(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const I_="__name__";class Ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=Ei.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return It(e.length,i.length)}static compareSegments(e,i){const s=Ei.isNumericId(e),o=Ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(i)):bd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lr.fromString(e.substring(4,e.length-2))}}class $t extends Ei{construct(e,i,s){return new $t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new nt(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return JS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new Fe([I_])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new nt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(f(),o++)}if(f(),d)throw new nt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut($t.fromString(e))}static fromName(e){return new ut($t.fromString(e).popFirst(5))}static empty(){return new ut($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new $t(e.slice()))}}function mE(r,e,i){if(!i)throw new nt(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WS(r,e,i,s){if(e===!0&&s===!0)throw new nt(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function N_(r){if(!ut.isDocumentKey(r))throw new nt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function O_(r){if(ut.isDocumentKey(r))throw new nt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function ro(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new nt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xc(r);throw new nt(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ce(r,e){const i={typeString:r};return e&&(i.value=e),i}function So(r,e){if(!gE(r))throw new nt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new nt(Y.INVALID_ARGUMENT,i);return!0}const V_=-62135596800,M_=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*M_);return new Jt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<V_)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(So(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ce("string",Jt._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Jt(0,0))}static max(){return new pt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fo=-1;function tb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(s===1e9?new Jt(i+1,0):new Jt(i,s));return new kr(o,ut.empty(),e)}function eb(r){return new kr(r.readTime,r.key,fo)}class kr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new kr(pt.min(),ut.empty(),fo)}static max(){return new kr(pt.max(),ut.empty(),fo)}}function nb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,e.documentKey),i!==0?i:It(r.largestBatchId,e.largestBatchId))}const ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function js(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==ib)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let o=0,f=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++f,d&&f===o&&i()}),(v=>s(v)))})),d=!0,f===o&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((o=>o?X.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,f)=>{s.push(i.call(this,o,f))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,o)=>{const f=e.length,d=new Array(f);let p=0;for(let v=0;v<f;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++p,p===f&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((s,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):s()};f()}))}}function ab(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hs(r){return r.name==="IndexedDbTransactionError"}class Lc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lc.ce=-1;const Yd=-1;function zc(r){return r==null}function Ec(r){return r===0&&1/r==-1/0}function sb(r){return typeof r=="number"&&Number.isInteger(r)&&!Ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const pE="";function lb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=U_(e)),e=ob(r.get(i),e);return U_(e)}function ob(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const f=r.charAt(o);switch(f){case"\0":i+="";break;case pE:i+="";break;default:i+=f}}return i}function U_(r){return r+pE+""}function x_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ma(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function yE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ae{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=f??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,o,f){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Zn([])}unionWith(e){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new _E("Invalid base64 string: "+f):f}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const ub=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(qt(!!r,39018),typeof r=="string"){let e=0;const i=ub.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Pr(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const vE="server_timestamp",EE="__type__",TE="__previous_value__",AE="__local_write_time__";function Xd(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===vE}function kc(r){const e=r.mapValue.fields[TE];return Xd(e)?kc(e):e}function ho(r){const e=Br(r.mapValue.fields[AE].timestampValue);return new Jt(e.seconds,e.nanos)}class cb{constructor(e,i,s,o,f,d,p,v,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A}}const Tc="(default)";class mo{constructor(e,i){this.projectId=e,this.database=i||Tc}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}const SE="__type__",fb="__max__",ac={mapValue:{}},bE="__vector__",Ac="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xd(r)?4:db(r)?9007199254740991:hb(r)?10:11:dt(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const i=qr(r);if(i!==qr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ho(r).isEqual(ho(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Br(o.timestampValue),p=Br(f.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return Pr(o.bytesValue).isEqual(Pr(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return ge(o.geoPointValue.latitude)===ge(f.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ge(o.integerValue)===ge(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ge(o.doubleValue),p=ge(f.doubleValue);return d===p?Ec(d)===Ec(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Ls(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},p=f.mapValue.fields||{};if(x_(d)!==x_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ci(d[v],p[v])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function go(r,e){return(r.values||[]).find((i=>Ci(i,e)))!==void 0}function zs(r,e){if(r===e)return 0;const i=qr(r),s=qr(e);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const p=ge(f.integerValue||f.doubleValue),v=ge(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return z_(r.timestampValue,e.timestampValue);case 4:return z_(ho(r),ho(e));case 5:return bd(r.stringValue,e.stringValue);case 6:return(function(f,d){const p=Pr(f),v=Pr(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const p=f.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=It(p[y],v[y]);if(A!==0)return A}return It(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const p=It(ge(f.latitude),ge(d.latitude));return p!==0?p:It(ge(f.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return k_(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const p=f.fields||{},v=d.fields||{},y=p[Ac]?.arrayValue,A=v[Ac]?.arrayValue,b=It(y?.values?.length||0,A?.values?.length||0);return b!==0?b:k_(y,A)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===ac.mapValue&&d===ac.mapValue)return 0;if(f===ac.mapValue)return 1;if(d===ac.mapValue)return-1;const p=f.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const U=bd(v[b],A[b]);if(U!==0)return U;const G=zs(p[v[b]],y[A[b]]);if(G!==0)return G}return It(v.length,A.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function z_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return It(r,e);const i=Br(r),s=Br(e),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function k_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=zs(i[o],s[o]);if(f)return f}return It(i.length,s.length)}function ks(r){return wd(r)}function wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Br(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Pr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=wd(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${wd(i.fields[d])}`;return o+"}"})(r.mapValue):dt(61005,{value:r})}function hc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(r);return e?16+hc(e):16;case 5:return 2*r.stringValue.length;case 6:return Pr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,f)=>o+hc(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ma(s.fields,((f,d)=>{o+=f.length+hc(d)})),o})(r.mapValue);default:throw dt(13486,{value:r})}}function B_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rd(r){return!!r&&"integerValue"in r}function Zd(r){return!!r&&"arrayValue"in r}function P_(r){return!!r&&"nullValue"in r}function q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dc(r){return!!r&&"mapValue"in r}function hb(r){return(r?.mapValue?.fields||{})[SE]?.stringValue===bE}function ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ma(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=ao(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ao(r.arrayValue.values[i]);return e}return{...r}}function db(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fb}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!dc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=ao(d):o.push(p.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ma(i,((o,f)=>e[o]=f));for(const o of s)delete e[o]}clone(){return new xn(ao(this.value))}}function wE(r){const e=[];return Ma(r.fields,((i,s)=>{const o=new Fe([i]);if(dc(s)){const f=wE(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new Zn(e)}class Ze{constructor(e,i,s,o,f,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ze(e,0,pt.min(),pt.min(),pt.min(),xn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,pt.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,pt.min(),pt.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,pt.min(),pt.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sc{constructor(e,i){this.position=e,this.inclusive=i}}function j_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=zs(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function H_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],e.position[i]))return!1;return!0}class po{constructor(e,i="asc"){this.field=e,this.dir=i}}function mb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class RE{}class Re extends RE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new pb(e,i,s):i==="array-contains"?new vb(e,s):i==="in"?new Eb(e,s):i==="not-in"?new Tb(e,s):i==="array-contains-any"?new Ab(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new yb(e,s):new _b(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(zs(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(zs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends RE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new $n(e,i)}matches(e){return CE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(r){return r.op==="and"}function DE(r){return gb(r)&&CE(r)}function gb(r){for(const e of r.filters)if(e instanceof $n)return!1;return!0}function Cd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+ks(r.value);if(DE(r))return r.filters.map((e=>Cd(e))).join(",");{const e=r.filters.map((i=>Cd(i))).join(",");return`${r.op}(${e})`}}function IE(r,e){return r instanceof Re?(function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&Ci(s.value,o.value)})(r,e):r instanceof $n?(function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((f,d,p)=>f&&IE(d,o.filters[p])),!0):!1})(r,e):void dt(19439)}function NE(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${ks(i.value)}`})(r):r instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(NE).join(" ,")+"}"})(r):"Filter"}class pb extends Re{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class yb extends Re{constructor(e,i){super(e,"in",i),this.keys=OE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _b extends Re{constructor(e,i){super(e,"not-in",i),this.keys=OE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function OE(r,e){return(e.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class vb extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zd(i)&&go(i.arrayValue,this.value)}}class Eb extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&go(this.value.arrayValue,i)}}class Tb extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!go(this.value.arrayValue,i)}}class Ab extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>go(this.value.arrayValue,s)))}}class Sb{constructor(e,i=null,s=[],o=[],f=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=p,this.Te=null}}function G_(r,e=null,i=[],s=[],o=null,f=null,d=null){return new Sb(r,e,i,s,o,f,d)}function $d(r){const e=_t(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Cd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),zc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ks(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ks(s))).join(",")),e.Te=i}return e.Te}function Jd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!mb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!IE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!H_(r.startAt,e.startAt)&&H_(r.endAt,e.endAt)}function Dd(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Gs{constructor(e,i=null,s=[],o=[],f=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bb(r,e,i,s,o,f,d,p){return new Gs(r,e,i,s,o,f,d,p)}function Wd(r){return new Gs(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function VE(r){return r.collectionGroup!==null}function so(r){const e=_t(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new po(f,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new po(Fe.keyField(),s))}return e.Ie}function Ai(r){const e=_t(r);return e.Ee||(e.Ee=wb(e,so(r))),e.Ee}function wb(r,e){if(r.limitType==="F")return G_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new po(o.field,f)}));const i=r.endAt?new Sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sc(r.startAt.position,r.startAt.inclusive):null;return G_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Id(r,e){const i=r.filters.concat([e]);return new Gs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Nd(r,e,i){return new Gs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Bc(r,e){return Jd(Ai(r),Ai(e))&&r.limitType===e.limitType}function ME(r){return`${$d(Ai(r))}|lt:${r.limitType}`}function Is(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>NE(o))).join(", ")}]`),zc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ks(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ks(o))).join(",")),`Target(${s})`})(Ai(r))}; limitType=${r.limitType})`}function Pc(r,e){return e.isFoundDocument()&&(function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ut.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,o){for(const f of so(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const y=j_(d,p,v);return d.inclusive?y<=0:y<0})(s.startAt,so(s),o)||s.endAt&&!(function(d,p,v){const y=j_(d,p,v);return d.inclusive?y>=0:y>0})(s.endAt,so(s),o))})(r,e)}function Rb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function UE(r){return(e,i)=>{let s=!1;for(const o of so(r)){const f=Cb(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function Cb(r,e,i){const s=r.field.isKeyField()?ut.comparator(e.key,i.key):(function(f,d,p){const v=d.data.field(f),y=p.data.field(f);return v!==null&&y!==null?zs(v,y):dt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}class Ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((i,s)=>{for(const[o,f]of s)e(o,f)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const Db=new ae(ut.comparator);function Wi(){return Db}const xE=new ae(ut.comparator);function to(...r){let e=xE;for(const i of r)e=e.insert(i.key,i);return e}function LE(r){let e=xE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Sa(){return lo()}function zE(){return lo()}function lo(){return new Ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Ib=new ae(ut.comparator),Nb=new Me(ut.comparator);function Nt(...r){let e=Nb;for(const i of r)e=e.add(i);return e}const Ob=new Me(It);function Vb(){return Ob}function tm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function kE(r){return{integerValue:""+r}}function Mb(r,e){return sb(e)?kE(e):tm(r,e)}class qc{constructor(){this._=void 0}}function Ub(r,e,i){return r instanceof bc?(function(o,f){const d={fields:{[EE]:{stringValue:vE},[AE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Xd(f)&&(f=kc(f)),f&&(d.fields[TE]=f),{mapValue:d}})(i,e):r instanceof yo?PE(r,e):r instanceof _o?qE(r,e):(function(o,f){const d=BE(o,f),p=Q_(d)+Q_(o.Ae);return Rd(d)&&Rd(o.Ae)?kE(p):tm(o.serializer,p)})(r,e)}function xb(r,e,i){return r instanceof yo?PE(r,e):r instanceof _o?qE(r,e):i}function BE(r,e){return r instanceof wc?(function(s){return Rd(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class bc extends qc{}class yo extends qc{constructor(e){super(),this.elements=e}}function PE(r,e){const i=jE(e);for(const s of r.elements)i.some((o=>Ci(o,s)))||i.push(s);return{arrayValue:{values:i}}}class _o extends qc{constructor(e){super(),this.elements=e}}function qE(r,e){let i=jE(e);for(const s of r.elements)i=i.filter((o=>!Ci(o,s)));return{arrayValue:{values:i}}}class wc extends qc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q_(r){return ge(r.integerValue||r.doubleValue)}function jE(r){return Zd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Lb(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof yo&&o instanceof yo||s instanceof _o&&o instanceof _o?Ls(s.elements,o.elements,Ci):s instanceof wc&&o instanceof wc?Ci(s.Ae,o.Ae):s instanceof bc&&o instanceof bc})(r.transform,e.transform)}class zb{constructor(e,i){this.version=e,this.transformResults=i}}class Xi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jc{}function HE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new FE(r.key,Xi.none()):new bo(r.key,r.data,Xi.none());{const i=r.data,s=xn.empty();let o=new Me(Fe.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new xa(r.key,s,new Zn(o.toArray()),Xi.none())}}function kb(r,e,i){r instanceof bo?(function(o,f,d){const p=o.value.clone(),v=Y_(o.fieldTransforms,f,d.transformResults);p.setAll(v),f.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof xa?(function(o,f,d){if(!mc(o.precondition,f))return void f.convertToUnknownDocument(d.version);const p=Y_(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(GE(o)),v.setAll(p),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function oo(r,e,i,s){return r instanceof bo?(function(f,d,p,v){if(!mc(f.precondition,d))return p;const y=f.value.clone(),A=X_(f.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof xa?(function(f,d,p,v){if(!mc(f.precondition,d))return p;const y=X_(f.fieldTransforms,v,d),A=d.data;return A.setAll(GE(f)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(f,d,p){return mc(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function Bb(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),f=BE(s.transform,o||null);f!=null&&(i===null&&(i=xn.empty()),i.set(s.field,f))}return i||null}function K_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ls(s,o,((f,d)=>Lb(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bo extends jc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xa extends jc{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function GE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Y_(r,e,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,p=e.data.field(f.field);s.set(f.field,xb(d,p,i[o]))}return s}function X_(r,e,i){const s=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);s.set(o.field,Ub(f,d,e))}return s}class FE extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pb extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&kb(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=zE();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let p=this.applyToLocalView(d,f.mutatedFields);p=i.has(o.key)?null:p;const v=HE(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Nt())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,((i,s)=>K_(i,s)))&&Ls(this.baseMutations,e.baseMutations,((i,s)=>K_(i,s)))}}class em{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Ib})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new em(e,i,s,o)}}class jb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hb{constructor(e,i){this.count=e,this.unchangedNames=i}}var we,Mt;function Gb(r){switch(r){case Y.OK:return dt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function QE(r){if(r===void 0)return Ji("GRPC error has no .code"),Y.UNKNOWN;switch(r){case we.OK:return Y.OK;case we.CANCELLED:return Y.CANCELLED;case we.UNKNOWN:return Y.UNKNOWN;case we.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case we.INTERNAL:return Y.INTERNAL;case we.UNAVAILABLE:return Y.UNAVAILABLE;case we.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case we.NOT_FOUND:return Y.NOT_FOUND;case we.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case we.ABORTED:return Y.ABORTED;case we.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case we.DATA_LOSS:return Y.DATA_LOSS;default:return dt(39323,{code:r})}}(Mt=we||(we={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function Fb(){return new TextEncoder}const Qb=new Lr([4294967295,4294967295],0);function Z_(r){const e=Fb().encode(r),i=new sE;return i.update(e),new Uint8Array(i.digest())}function $_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Lr([i,s],0),new Lr([o,f],0)]}class nm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new eo(`Invalid padding: ${i}`);if(s<0)throw new eo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Lr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Lr.fromNumber(s)));return o.compare(Qb)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Z_(e),[s,o]=$_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new nm(f,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Z_(e),[s,o]=$_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Hc(pt.min(),o,new ae(It),Wi(),Nt())}}class wo{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new wo(s,i,Nt(),Nt(),Nt())}}class gc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class KE{constructor(e,i){this.targetId=e,this.Ce=i}}class YE{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),i=Nt(),s=Nt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt(38017,{changeType:f})}})),new wo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=sc(),this.He=sc(),this.Ye=new ae(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(Dd(f))if(s===0){const d=new ut(f.path);this.et(i,d,Ze.newNoDocument(d,pt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,p;try{d=Pr(s).toUint8Array()}catch(v){if(v instanceof _E)return xs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new nm(d,o,f)}catch(v){return xs(v instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((f=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(p)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const p=this.ot(d);if(p){if(f.current&&Dd(p.target)){const v=new ut(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let s=Nt();this.He.forEach(((f,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new Hc(e,i,this.Ye,this.je,s);return this.je=Wi(),this.Je=sc(),this.He=sc(),this.Ye=new ae(It),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new J_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function sc(){return new ae(ut.comparator)}function W_(){return new ae(ut.comparator)}const Yb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zb={and:"AND",or:"OR"};class $b{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Od(r,e){return r.useProto3Json||zc(e)?e:{value:e}}function Rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Jb(r,e){return Rc(r,e.toTimestamp())}function Si(r){return qt(!!r,49232),pt.fromTimestamp((function(i){const s=Br(i);return new Jt(s.seconds,s.nanos)})(r))}function im(r,e){return Vd(r,e).canonicalString()}function Vd(r,e){const i=(function(o){return new $t(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function ZE(r){const e=$t.fromString(r);return qt(eT(e),10190,{key:e.toString()}),e}function Md(r,e){return im(r.databaseId,e.path)}function ld(r,e){const i=ZE(e);if(i.get(1)!==r.databaseId.projectId)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(JE(i))}function $E(r,e){return im(r.databaseId,e)}function Wb(r){const e=ZE(r);return e.length===4?$t.emptyPath():JE(e)}function Ud(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function tv(r,e,i){return{name:Md(r,e),fields:i.value.mapValue.fields}}function tw(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:dt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(y,A){return y.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Y.UNKNOWN:QE(y.code);return new nt(A,y.message||"")})(d);i=new YE(s,o,f,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ld(r,s.document.name),f=Si(s.document.updateTime),d=s.document.createTime?Si(s.document.createTime):pt.min(),p=new xn({mapValue:{fields:s.document.fields}}),v=Ze.newFoundDocument(o,f,d,p),y=s.targetIds||[],A=s.removedTargetIds||[];i=new gc(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ld(r,s.document),f=s.readTime?Si(s.readTime):pt.min(),d=Ze.newNoDocument(o,f),p=s.removedTargetIds||[];i=new gc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ld(r,s.document),f=s.removedTargetIds||[];i=new gc([],f,o,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new Hb(o,f),p=s.targetId;i=new KE(p,d)}}return i}function ew(r,e){let i;if(e instanceof bo)i={update:tv(r,e.key,e.value)};else if(e instanceof FE)i={delete:Md(r,e.key)};else if(e instanceof xa)i={update:tv(r,e.key,e.data),updateMask:cw(e.fieldMask)};else{if(!(e instanceof Pb))return dt(16599,{Vt:e.type});i={verify:Md(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const p=d.transform;if(p instanceof bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof _o)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:Jb(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:dt(27497)})(r,e.precondition)),i}function nw(r,e){return r&&r.length>0?(qt(e!==void 0,14353),r.map((i=>(function(o,f){let d=o.updateTime?Si(o.updateTime):Si(f);return d.isEqual(pt.min())&&(d=Si(f)),new zb(d,o.transformResults||[])})(i,e)))):[]}function iw(r,e){return{documents:[$E(r,e.path)]}}function rw(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$E(r,o);const f=(function(y){if(y.length!==0)return tT($n.create(y,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(y){if(y.length!==0)return y.map((A=>(function(U){return{field:Ns(U.field),direction:lw(U.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Od(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function aw(r){let e=Wb(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(b){const U=WE(b);return U instanceof $n&&DE(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((U=>(function($){return new po(Os($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let U;return U=typeof b=="object"?b.value:b,zc(U)?null:U})(i.limit));let v=null;i.startAt&&(v=(function(b){const U=!!b.before,G=b.values||[];return new Sc(G,U)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const U=!b.before,G=b.values||[];return new Sc(G,U)})(i.endAt)),bb(e,o,d,f,p,"F",v,y)}function sw(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Os(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Os(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Os(i.unaryFilter.field);return Re.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Os(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(Os(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((s=>WE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function lw(r){return Yb[r]}function ow(r){return Xb[r]}function uw(r){return Zb[r]}function Ns(r){return{fieldPath:r.canonicalString()}}function Os(r){return Fe.fromServerFormat(r.fieldPath)}function tT(r){return r instanceof Re?(function(i){if(i.op==="=="){if(q_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(i.field),op:ow(i.op),value:i.value}}})(r):r instanceof $n?(function(i){const s=i.getFilters().map((o=>tT(o)));return s.length===1?s[0]:{compositeFilter:{op:uw(i.op),filters:s}}})(r):dt(54877,{filter:r})}function cw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ur{constructor(e,i,s,o,f=pt.min(),d=pt.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fw{constructor(e){this.yt=e}}function hw(r){const e=aw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nd(e,e.limit,"L"):e}class dw{constructor(){this.Cn=new mw}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(kr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class mw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me($t.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me($t.comparator)).toArray()}}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(nT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bs(0)}static cr(){return new Bs(-1)}}const nv="LruGarbageCollector",gw=1048576;function iv([r,e],[i,s]){const o=It(r,i);return o===0?It(e,s):o}class pw{constructor(e){this.Ir=e,this.buffer=new Me(iv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();iv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hs(i)?it(nv,"Ignoring IndexedDB error during garbage collection: ",i):await js(i)}await this.Vr(3e5)}))}}class _w{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Lc.ce);const s=new pw(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(ev)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,f,d,p,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,i)))).next((b=>(f=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Ds()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${f} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:b}))))}}function vw(r,e){return new _w(r,e)}class Ew{constructor(){this.changes=new Ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Aw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&oo(s.mutation,o,Zn.empty(),Jt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Nt()){const o=Sa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((f=>{let d=to();return f.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Sa();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Nt())))}populateOverlays(e,i,s){const o=[];return s.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let f=Wi();const d=lo(),p=(function(){return lo()})();return i.forEach(((v,y)=>{const A=s.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof xa)?f=f.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),oo(A.mutation,y,A.mutation.getFieldMask(),Jt.now())):d.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new Tw(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=lo();let o=new ae(((d,p)=>d-p)),f=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=s.get(v)||Zn.empty();A=p.applyToLocalView(y,A),s.set(v,A);const b=(o.get(p.batchId)||Nt()).add(v);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,b=zE();A.forEach((U=>{if(!f.has(U)){const G=HE(i.get(U),s.get(U));G!==null&&b.set(U,G),f=f.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):VE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):X.resolve(Sa());let p=fo,v=f;return d.next((y=>X.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),f.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((U=>{v=v.insert(A,U)}))))).next((()=>this.populateOverlays(e,y,f))).next((()=>this.computeViews(e,v,y,Nt()))).next((A=>({batchId:p,changes:LE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((s=>{let o=to();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=to();return this.indexManager.getCollectionParents(e,f).next((p=>X.forEach(p,(v=>{const y=(function(b,U){return new Gs(U,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((A=>{A.forEach(((b,U)=>{d=d.insert(b,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o)))).next((d=>{f.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=to();return d.forEach(((v,y)=>{const A=f.get(v);A!==void 0&&oo(A.mutation,y,Zn.empty(),Jt.now()),Pc(i,y)&&(p=p.insert(v,y))})),p}))}}class Sw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:hw(o.bundledQuery),readTime:Si(o.readTime)}})(i)),X.resolve()}}class bw{constructor(){this.overlays=new ae(ut.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Sa();return X.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&s.set(o,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,f)=>{this.St(e,i,f)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=Sa(),f=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===f&&v.largestBatchId>s&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ae(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=f.get(y.largestBatchId);A===null&&(A=Sa(),f=f.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Sa(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=o)););return X.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jb(i,s));let f=this.qr.get(i);f===void 0&&(f=Nt(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}class ww{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class rm{constructor(){this.Qr=new Me(ze.$r),this.Ur=new Me(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ut(new $t([])),s=new ze(i,e),o=new ze(i,e+1),f=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ut(new $t([])),s=new ze(i,e),o=new ze(i,e+1);let f=Nt();return this.Ur.forEachInRange([s,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ut.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||ut.comparator(e.key,i.key)}}class Rw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(ze.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qb(f,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new ze(p.key,f)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),f=o<0?0:o;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Yd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);f.push(p)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(It);return i.forEach((o=>{const f=new ze(o,0),d=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;ut.isDocumentKey(f)||(f=f.child(""));const d=new ze(new ut(f),0);let p=new Me(It);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(o=>{const f=new ze(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Cw{constructor(e){this.ri=e,this.docs=(function(){return new ae(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=Wi();return i.forEach((o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Ze.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Wi();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||nb(eb(A),s)<=0||(o.has(A.key)||Pc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,i,s,o){dt(9500)}ii(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Dw(this)}getSize(e){return X.resolve(this.size)}}class Dw extends Ew{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Iw{constructor(e){this.persistence=e,this.si=new Ua((i=>$d(i)),Jd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new rm,this.targetCount=0,this.ai=Bs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Bs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(f).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class iT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Lc(0),this.li=!1,this.li=!0,this.hi=new ww,this.referenceDelegate=e(this),this.Pi=new Iw(this),this.indexManager=new dw,this.remoteDocumentCache=(function(o){return new Cw(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new fw(i),this.Ii=new Sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new bw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new Rw(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new Nw(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class Nw extends rb{constructor(e){super(),this.currentSequenceNumber=e}}class am{constructor(e){this.persistence=e,this.Ri=new rm,this.Vi=null}static mi(e){return new am(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const o=ut.fromPath(s);return this.gi(e,o).next((f=>{f||i.removeEntry(o,pt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Cc{constructor(e,i){this.persistence=e,this.pi=new Ua((s=>lb(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=vw(this,i)}static mi(e,i){return new Cc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((s,o)=>this.br(e,s,o).next((f=>f?X.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,f.removeEntry(d,pt.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=hc(e.data.value)),i}br(e,i,s){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Nt(),o=Nt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new sm(e,i.fromCache,s,o)}}class Ow{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I1()?8:ab(C1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new Ow;return this.Ss(e,i,d).next((p=>{if(f.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>f.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ds()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ds()<=Ut.DEBUG&&it("QueryEngine","Query:",Is(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ds()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):X.resolve())}ys(e,i){if(F_(i))return X.resolve(null);let s=Ai(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Nd(i,null,"F"),s=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Nt(...f);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(e,Nd(i,null,"F")):this.vs(e,y,i,v)}))))})))))}ws(e,i,s,o){return F_(i)||o.isEqual(pt.min())?X.resolve(null):this.ps.getDocuments(e,s).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,o)?X.resolve(null):(Ds()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Is(i)),this.vs(e,d,i,tb(o,fo)).next((p=>p)))}))}Ds(e,i){let s=new Me(UE(e));return i.forEach(((o,f)=>{Pc(e,f)&&(s=s.add(f))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,s){return Ds()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Is(i)),this.ps.getDocumentsMatchingQuery(e,i,kr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}const lm="LocalStore",Mw=3e8;class Uw{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(It),this.xs=new Ua((f=>$d(f)),Jd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function xw(r,e,i,s){return new Uw(r,e,i,s)}async function rT(r,e){const i=_t(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],p=[];let v=Nt();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of f){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function Lw(r,e){const i=_t(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const b=y.batch,U=b.keys();let G=X.resolve();return U.forEach(($=>{G=G.next((()=>A.getEntry(v,$))).next((W=>{const Z=y.docVersions.get($);qt(Z!==null,48541),W.version.compareTo(Z)<0&&(b.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),A.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Nt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function aT(r){const e=_t(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function zw(r,e){const i=_t(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,b)=>{const U=o.get(b);if(!U)return;p.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,b))));let G=U.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(b)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),o=o.insert(b,G),(function(W,Z,ft){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Mw?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(U,G,A)&&p.push(i.Pi.updateTargetData(f,G))}));let v=Wi(),y=Nt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),p.push(kw(f,d,e.documentUpdates).next((A=>{v=A.ks,y=A.qs}))),!s.isEqual(pt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((b=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s)));p.push(A)}return X.waitFor(p).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,y))).next((()=>v))})).then((f=>(i.Ms=o,f)))}function kw(r,e,i){let s=Nt(),o=Nt();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Wi();return i.forEach(((p,v)=>{const y=f.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(pt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(lm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Bw(r,e){const i=_t(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Pw(r,e){const i=_t(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((f=>f?(o=f,X.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ur(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function xd(r,e,i){const s=_t(r),o=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hs(d))throw d;it(lm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rv(r,e,i){const s=_t(r);let o=pt.min(),f=Nt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const b=_t(v),U=b.xs.get(A);return U!==void 0?X.resolve(b.Ms.get(U)):b.Pi.getTargetData(y,A)})(s,d,Ai(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{f=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?f:Nt()))).next((p=>(qw(s,Rb(e),p),{documents:p,Qs:f})))))}function qw(r,e,i){let s=r.Os.get(e)||pt.min();i.forEach(((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Os.set(e,s)}class av{constructor(){this.activeTargetIds=Vb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jw{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hw{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lc=null;function Ld(){return lc===null?lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():lc++,"0x"+lc.toString(16)}const od="RestConnection",Gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,f){const d=Ld(),p=this.zo(e,i.toUriEncodedString());it(od,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:y}=new URL(p),A=To(y);return this.Jo(e,p,v,s,A).then((b=>(it(od,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw xs(od,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(e,i,s,o,f,d){return this.Go(e,i,s,o,f)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),s&&s.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const s=Gw[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class Qw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ye="WebChannelConnection";class Kw extends Fw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,f){const d=Ld();return new Promise(((p,v)=>{const y=new lE;y.setWithCredentials(!0),y.listenOnce(oE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fc.NO_ERROR:const b=y.getResponseJson();it(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case fc.TIMEOUT:it(Ye,`RPC '${e}' ${d} timed out`),v(new nt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const U=y.getStatus();if(it(Ye,`RPC '${e}' ${d} failed with status:`,U,"response text:",y.getResponseText()),U>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const W=(function(ft){const mt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(mt)>=0?mt:Y.UNKNOWN})($.status);v(new nt(W,$.message))}else v(new nt(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new nt(Y.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);it(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=Ld(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fE(),p=cE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=f.join("");it(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let U=!1,G=!1;const $=new Qw({Yo:Z=>{G?it(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(U||(it(Ye,`Opening RPC '${e}' stream ${o} transport.`),b.open(),U=!0),it(Ye,`RPC '${e}' stream ${o} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),W=(Z,ft,mt)=>{Z.listen(ft,(lt=>{try{mt(lt)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return W(b,Wl.EventType.OPEN,(()=>{G||(it(Ye,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),W(b,Wl.EventType.CLOSE,(()=>{G||(G=!0,it(Ye,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(b))})),W(b,Wl.EventType.ERROR,(Z=>{G||(G=!0,xs(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new nt(Y.UNAVAILABLE,"The operation could not be completed")))})),W(b,Wl.EventType.MESSAGE,(Z=>{if(!G){const ft=Z.data[0];qt(!!ft,16349);const mt=ft,lt=mt?.error||mt[0]?.error;if(lt){it(Ye,`RPC '${e}' stream ${o} received error:`,lt);const vt=lt.status;let Pt=(function(S){const C=we[S];if(C!==void 0)return QE(C)})(vt),bt=lt.message;Pt===void 0&&(Pt=Y.INTERNAL,bt="Unknown error status: "+vt+" with message "+lt.message),G=!0,$.a_(new nt(Pt,bt)),b.close()}else it(Ye,`RPC '${e}' stream ${o} received:`,ft),$.u_(ft)}})),W(p,uE.STAT_EVENT,(Z=>{Z.stat===Sd.PROXY?it(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Sd.NOPROXY&&it(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function ud(){return typeof document<"u"?document:null}function Gc(r){return new $b(r,!0)}class sT{constructor(e,i,s=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ov="PersistentStream";class lT{constructor(e,i,s,o,f,d,p,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new nt(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yw extends lT{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tw(this.serializer,e),s=(function(f){if(!("targetChange"in f))return pt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Si(d.readTime):pt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Ud(this.serializer),i.addTarget=(function(f,d){let p;const v=d.target;if(p=Dd(v)?{documents:iw(f,v)}:{query:rw(f,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=XE(f,d.resumeToken);const y=Od(f,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(pt.min())>0){p.readTime=Rc(f,d.snapshotVersion.toTimestamp());const y=Od(f,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=sw(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Ud(this.serializer),i.removeTarget=e,this.q_(i)}}class Xw extends lT{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=nw(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Ud(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>ew(this.serializer,s)))};this.q_(i)}}class Zw{}class $w extends Zw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,Vd(i,s),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new nt(Y.UNKNOWN,f.toString())}))}Ho(e,i,s,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Vd(i,s),o,d,p,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Jw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class Ww{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{La(this)&&(it(Ia,"Restarting streams for network reachability change."),await(async function(v){const y=_t(v);y.Ea.add(4),await Ro(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Fc(y)})(this))}))})),this.Ra=new Jw(s,o)}}async function Fc(r){if(La(r))for(const e of r.da)await e(!0)}async function Ro(r){for(const e of r.da)await e(!1)}function oT(r,e){const i=_t(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),fm(i)?cm(i):Fs(i).O_()&&um(i,e))}function om(r,e){const i=_t(r),s=Fs(i);i.Ia.delete(e),s.O_()&&uT(i,e),i.Ia.size===0&&(s.O_()?s.L_():La(i)&&i.Ra.set("Unknown"))}function um(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fs(r).Y_(e)}function uT(r,e){r.Va.Ue(e),Fs(r).Z_(e)}function cm(r){r.Va=new Kb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Fs(r).start(),r.Ra.ua()}function fm(r){return La(r)&&!Fs(r).x_()&&r.Ia.size>0}function La(r){return _t(r).Ea.size===0}function cT(r){r.Va=void 0}async function tR(r){r.Ra.set("Online")}async function eR(r){r.Ia.forEach(((e,i)=>{um(r,e)}))}async function nR(r,e){cT(r),fm(r)?(r.Ra.ha(e),cm(r)):r.Ra.set("Unknown")}async function iR(r,e,i){if(r.Ra.set("Online"),e instanceof YE&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const p of f.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){it(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dc(r,s)}else if(e instanceof gc?r.Va.Ze(e):e instanceof KE?r.Va.st(e):r.Va.tt(e),!i.isEqual(pt.min()))try{const s=await aT(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const p=f.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(y);A&&f.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),uT(f,v);const b=new Ur(A.target,v,y,A.sequenceNumber);um(f,b)})),f.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){it(Ia,"Failed to raise snapshot:",s),await Dc(r,s)}}async function Dc(r,e,i){if(!Hs(e))throw e;r.Ea.add(1),await Ro(r),r.Ra.set("Offline"),i||(i=()=>aT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Ia,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Fc(r)}))}function fT(r,e){return e().catch((i=>Dc(r,i,e)))}async function Qc(r){const e=_t(r),i=jr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yd;for(;rR(e);)try{const o=await Bw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,aR(e,o)}catch(o){await Dc(e,o)}hT(e)&&dT(e)}function rR(r){return La(r)&&r.Ta.length<10}function aR(r,e){r.Ta.push(e);const i=jr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function hT(r){return La(r)&&!jr(r).x_()&&r.Ta.length>0}function dT(r){jr(r).start()}async function sR(r){jr(r).ra()}async function lR(r){const e=jr(r);for(const i of r.Ta)e.ea(i.mutations)}async function oR(r,e,i){const s=r.Ta.shift(),o=em.from(s,e,i);await fT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Qc(r)}async function uR(r,e){e&&jr(r).X_&&await(async function(s,o){if((function(d){return Gb(d)&&d!==Y.ABORTED})(o.code)){const f=s.Ta.shift();jr(s).B_(),await fT(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o))),await Qc(s)}})(r,e),hT(r)&&dT(r)}async function uv(r,e){const i=_t(r);i.asyncQueue.verifyOperationInProgress(),it(Ia,"RemoteStore received new credentials");const s=La(i);i.Ea.add(3),await Ro(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Fc(i)}async function cR(r,e){const i=_t(r);e?(i.Ea.delete(2),await Fc(i)):e||(i.Ea.add(2),await Ro(i),i.Ra.set("Unknown"))}function Fs(r){return r.ma||(r.ma=(function(i,s,o){const f=_t(i);return f.sa(),new Yw(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:tR.bind(null,r),t_:eR.bind(null,r),r_:nR.bind(null,r),H_:iR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),fm(r)?cm(r):r.Ra.set("Unknown")):(await r.ma.stop(),cT(r))}))),r.ma}function jr(r){return r.fa||(r.fa=(function(i,s,o){const f=_t(i);return f.sa(),new Xw(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:sR.bind(null,r),r_:uR.bind(null,r),ta:lR.bind(null,r),na:oR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Qc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hm{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,p=new hm(e,i,d,o,f);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(r,e){if(Ji("AsyncQueue",`${e}: ${r}`),Hs(r))return new nt(Y.UNAVAILABLE,`${e}: ${r}`);throw r}class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=to(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class cv{constructor(){this.ga=new ae(ut.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ps{constructor(e,i,s,o,f,d,p,v,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ps(e,i,Ms.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class fR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hR{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=_t(i),f=o.queries;o.queries=fv(),f.forEach(((d,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new nt(Y.ABORTED,"Firestore shutting down"))}}function fv(){return new Ua((r=>ME(r)),Bc)}async function dR(r,e){const i=_t(r);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(s=2):(f=new fR,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=dm(d,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&mm(i)}async function mR(r,e){const i=_t(r),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function gR(r,e){const i=_t(r);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&mm(i)}function pR(r,e,i){const s=_t(r),o=s.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);s.queries.delete(e)}function mm(r){r.Ca.forEach((e=>{e.next()}))}var zd,hv;(hv=zd||(zd={})).Ma="default",hv.Cache="cache";class yR{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zd.Cache}}class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class _R{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=UE(e),this.tu=new Ms(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new cv,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,b)=>{const U=o.get(A),G=Pc(this.query,b)?b:null,$=!!U&&this.mutatedKeys.has(U.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;U&&G?U.data.isEqual(G.data)?$!==W&&(s.track({type:3,doc:G}),Z=!0):this.su(U,G)||(s.track({type:2,doc:G}),Z=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(p=!0)):!U&&G?(s.track({type:0,doc:G}),Z=!0):U&&!G&&(s.track({type:1,doc:U}),Z=!0,(v||y)&&(p=!0)),Z&&(G?(d=d.add(G),f=W?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(G,$){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:Z})}};return W(G)-W($)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Ps(this.query,e.tu,f,d,e.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new gT(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new mT(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Nt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ps.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gm="SyncEngine";class vR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class ER{constructor(e){this.key=e,this.hu=!1}}class TR{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ua((p=>ME(p)),Bc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(ut.comparator),this.Au=new Map,this.Ru=new rm,this.Vu={},this.mu=new Map,this.fu=Bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AR(r,e,i=!0){const s=TT(r);let o;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await pT(s,e,i,!0),o}async function SR(r,e){const i=TT(r);await pT(i,e,!0,!1)}async function pT(r,e,i,s){const o=await Pw(r.localStore,Ai(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let p;return s&&(p=await bR(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&oT(r.remoteStore,o),p}async function bR(r,e,i,s,o){r.pu=(b,U,G)=>(async function(W,Z,ft,mt){let lt=Z.view.ru(ft);lt.Cs&&(lt=await rv(W.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,lt))));const vt=mt&&mt.targetChanges.get(Z.targetId),Pt=mt&&mt.targetMismatches.get(Z.targetId)!=null,bt=Z.view.applyChanges(lt,W.isPrimaryClient,vt,Pt);return mv(W,Z.targetId,bt.au),bt.snapshot})(r,b,U,G);const f=await rv(r.localStore,e,!0),d=new _R(e,f.Qs),p=d.ru(f.documents),v=wo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,v);mv(r,i,y.au);const A=new vR(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function wR(r,e,i){const s=_t(r),o=s.Tu.get(e),f=s.Iu.get(o.targetId);if(f.length>1)return s.Iu.set(o.targetId,f.filter((d=>!Bc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&om(s.remoteStore,o.targetId),kd(s,o.targetId)})).catch(js)):(kd(s,o.targetId),await xd(s.localStore,o.targetId,!0))}async function RR(r,e){const i=_t(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),om(i.remoteStore,s.targetId))}async function CR(r,e,i){const s=UR(r);try{const o=await(function(d,p){const v=_t(d),y=Jt.now(),A=p.reduce(((G,$)=>G.add($.key)),Nt());let b,U;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=Wi(),W=Nt();return v.Ns.getEntries(G,A).next((Z=>{$=Z,$.forEach(((ft,mt)=>{mt.isValidDocument()||(W=W.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,$))).next((Z=>{b=Z;const ft=[];for(const mt of p){const lt=Bb(mt,b.get(mt.key).overlayedDocument);lt!=null&&ft.push(new xa(mt.key,lt,wE(lt.value.mapValue),Xi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,ft,p)})).next((Z=>{U=Z;const ft=Z.applyToLocalDocumentSet(b,W);return v.documentOverlayCache.saveOverlays(G,Z.batchId,ft)}))})).then((()=>({batchId:U.batchId,changes:LE(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new ae(It)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await Co(s,o.changes),await Qc(s.remoteStore)}catch(o){const f=dm(o,"Failed to persist write");i.reject(f)}}async function yT(r,e){const i=_t(r);try{const s=await zw(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qt(d.hu,14607):o.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Co(i,s,e)}catch(s){await js(s)}}function dv(r,e,i){const s=_t(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((f,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=_t(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,b)=>{for(const U of b.Sa)U.va(p)&&(y=!0)})),y&&mm(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function DR(r,e,i){const s=_t(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),f=o&&o.key;if(f){let d=new ae(ut.comparator);d=d.insert(f,Ze.newNoDocument(f,pt.min()));const p=Nt().add(f),v=new Hc(pt.min(),new Map,new ae(It),d,p);await yT(s,v),s.du=s.du.remove(f),s.Au.delete(e),pm(s)}else await xd(s.localStore,e,!1).then((()=>kd(s,e,i))).catch(js)}async function IR(r,e){const i=_t(r),s=e.batch.batchId;try{const o=await Lw(i.localStore,e);vT(i,s,null),_T(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Co(i,o)}catch(o){await js(o)}}async function NR(r,e,i){const s=_t(r);try{const o=await(function(d,p){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((b=>(qt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(s.localStore,e);vT(s,e,i),_T(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Co(s,o)}catch(o){await js(o)}}function _T(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function vT(r,e,i){const s=_t(r);let o=s.Vu[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function kd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||ET(r,s)}))}function ET(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(om(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),pm(r))}function mv(r,e,i){for(const s of i)s instanceof mT?(r.Ru.addReference(s.key,e),OR(r,s)):s instanceof gT?(it(gm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||ET(r,s.key)):dt(19791,{wu:s})}function OR(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(gm,"New document in limbo: "+i),r.Eu.add(s),pm(r))}function pm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ut($t.fromString(e)),s=r.fu.next();r.Au.set(s,new ER(i)),r.du=r.du.insert(i,s),oT(r.remoteStore,new Ur(Ai(Wd(i.path)),s,"TargetPurposeLimboResolution",Lc.ce))}}async function Co(r,e,i){const s=_t(r),o=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=sm.As(v.targetId,y);f.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,y){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(U=>X.forEach(U.Es,(G=>A.persistence.referenceDelegate.addReference(b,U.targetId,G))).next((()=>X.forEach(U.ds,(G=>A.persistence.referenceDelegate.removeReference(b,U.targetId,G)))))))))}catch(b){if(!Hs(b))throw b;it(lm,"Failed to update sequence numbers: "+b)}for(const b of y){const U=b.targetId;if(!b.fromCache){const G=A.Ms.get(U),$=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(U,W)}}})(s.localStore,f))}async function VR(r,e){const i=_t(r);if(!i.currentUser.isEqual(e)){it(gm,"User change. New user:",e.toKey());const s=await rT(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((p=>{p.forEach((v=>{v.reject(new nt(Y.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Co(i,s.Ls)}}function MR(r,e){const i=_t(r),s=i.Au.get(e);if(s&&s.hu)return Nt().add(s.key);{let o=Nt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function TT(r){const e=_t(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DR.bind(null,e),e.Pu.H_=gR.bind(null,e.eventManager),e.Pu.yu=pR.bind(null,e.eventManager),e}function UR(r){const e=_t(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,e),e}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return xw(this.persistence,new Vw,e.initialUser,this.serializer)}Cu(e){return new iT(am.mi,this.serializer)}Du(e){return new jw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class xR extends Ic{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof Cc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yw(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new iT((s=>Cc.mi(s,i)),this.serializer)}}class Bd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VR.bind(null,this.syncEngine),await cR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hR})()}createDatastore(e){const i=Gc(e.databaseInfo.databaseId),s=(function(f){return new Kw(f)})(e.databaseInfo);return(function(f,d,p,v){return new $w(f,d,p,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,f,d,p){return new Ww(s,o,f,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return lv.v()?new lv:new Hw})())}createSyncEngine(e,i){return(function(o,f,d,p,v,y,A){const b=new TR(o,f,d,p,v,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=_t(i);it(Ia,"RemoteStore shutting down."),s.Ea.add(5),await Ro(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bd.provider={build:()=>new Bd};class LR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Hr="FirestoreClient";class zR{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{it(Hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(Hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=dm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function cd(r,e){r.asyncQueue.verifyOperationInProgress(),it(Hr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await rT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function gv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await kR(r);it(Hr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>uv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>uv(e.remoteStore,o))),r._onlineComponents=e}async function kR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Hr,"Using user provided OfflineComponentProvider");try{await cd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;xs("Error using user provided cache. Falling back to memory cache: "+i),await cd(r,new Ic)}}else it(Hr,"Using default OfflineComponentProvider"),await cd(r,new xR(void 0));return r._offlineComponents}async function AT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Hr,"Using user provided OnlineComponentProvider"),await gv(r,r._uninitializedComponentsProvider._online)):(it(Hr,"Using default OnlineComponentProvider"),await gv(r,new Bd))),r._onlineComponents}function BR(r){return AT(r).then((e=>e.syncEngine))}async function pv(r){const e=await AT(r),i=e.eventManager;return i.onListen=AR.bind(null,e.syncEngine),i.onUnlisten=wR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=SR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=RR.bind(null,e.syncEngine),i}function ST(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const yv=new Map;const bT="firestore.googleapis.com",_v=!0;class vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=_v}else this.host=e.host,this.ssl=e.ssl??_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gw)throw new nt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HS;switch(s.type){case"firstParty":return new KS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=yv.get(i);s&&(it("ComponentProvider","Removing Datastore"),yv.delete(i),s.terminate())})(this),Promise.resolve()}}function PR(r,e,i,s={}){r=ro(r,Kc);const o=To(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(Kv(`https://${p}`),Xv("Firestore",!0)),f.host!==bT&&f.host!==p&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:p,ssl:o,emulatorOptions:s};if(!_c(v,d)&&(r._setSettings(v),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=Xe.MOCK_USER;else{y=Yv(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new nt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}r._authCredentials=new GS(new dE(y,A))}}class za{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new za(this.firestore,e,this._query)}}class Ve{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(So(i,Ve._jsonSchema))return new Ve(e,s||null,new ut($t.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ce("string",Ve._jsonSchemaVersion),referencePath:Ce("string")};class zr extends za{constructor(e,i,s){super(e,i,Wd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new ut(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function Ev(r,e,...i){if(r=fn(r),mE("collection","path",e),r instanceof Kc){const s=$t.fromString(e,...i);return O_(s),new zr(r,null,s)}{if(!(r instanceof Ve||r instanceof zr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return O_(s),new zr(r.firestore,null,s)}}function qR(r,e,...i){if(r=fn(r),arguments.length===1&&(e=Kd.newId()),mE("doc","path",e),r instanceof Kc){const s=$t.fromString(e,...i);return N_(s),new Ve(r,null,new ut(s))}{if(!(r instanceof Ve||r instanceof zr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return N_(s),new Ve(r.firestore,r instanceof zr?r.converter:null,new ut(s))}}const Tv="AsyncQueue";class Av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const s=ud();s&&it(Tv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hs(e))throw e;it(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",Sv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=hm.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function bv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of s)if(f in o&&typeof o[f]=="function")return!0;return!1})(r,["next","error","complete"])}class Nc extends Kc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Av,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Av(e),this._firestoreClient=void 0,await e}}}function jR(r,e){const i=typeof r=="object"?r:Fd(),s=typeof r=="string"?r:Tc,o=Ao(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=Fv("firestore");f&&PR(o,...f)}return o}function wT(r){if(r._terminated)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HR(r),r._firestoreClient}function HR(r){const e=r._freezeSettings(),i=(function(o,f,d,p){return new cb(o,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ST(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new zR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}})(r._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Qe.fromBase64String(e))}catch(i){throw new nt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(So(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class ym{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new nt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class RT{constructor(e){this._methodName=e}}class bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new nt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new nt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(So(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(So(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new nt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};const GR=/^__.*__$/;class FR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,i,this.fieldTransforms):new bo(e,this.data,i,this.fieldTransforms)}}function CT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:r})}}class _m{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _m({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CT(this.Ac)&&GR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Gc(e)}Cc(e,i,s,o=!1){return new _m({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DT(r){const e=r._freezeSettings(),i=Gc(r._databaseId);return new QR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function KR(r,e,i,s,o,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,o);OT("Data must be an object, but it was:",d,s);const p=IT(s,d);let v,y;if(f.merge)v=new Zn(d.fieldMask),y=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const b of f.mergeFields){const U=XR(e,b,i);if(!d.contains(U))throw new nt(Y.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);$R(A,U)||A.push(U)}v=new Zn(A),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new FR(new xn(p),v,y)}function YR(r,e,i,s=!1){return vm(i,r.Cc(s?4:3,e))}function vm(r,e){if(NT(r=fn(r)))return OT("Unsupported field value:",e,r),IT(r,e);if(r instanceof RT)return(function(s,o){if(!CT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const f=[];let d=0;for(const p of s){let v=vm(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Mb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Jt.fromDate(s);return{timestampValue:Rc(o.serializer,f)}}if(s instanceof Jt){const f=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(o.serializer,f)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:XE(o.serializer,s._byteString)};if(s instanceof Ve){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:im(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(d,p){return{mapValue:{fields:{[SE]:{stringValue:bE},[Ac]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return tm(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${xc(s)}`)})(r,e)}function IT(r,e){const i={};return yE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(r,((s,o)=>{const f=vm(o,e.mc(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function NT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Jt||r instanceof bi||r instanceof Ln||r instanceof Ve||r instanceof RT||r instanceof wi)}function OT(r,e,i){if(!NT(i)||!gE(i)){const s=xc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function XR(r,e,i){if((e=fn(e))instanceof ym)return e._internalPath;if(typeof e=="string")return VT(r,e);throw Oc("Field path arguments must be of type string or ",r,!1,void 0,i)}const ZR=new RegExp("[~\\*/\\[\\]]");function VT(r,e,i){if(e.search(ZR)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ym(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Oc(r,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new nt(Y.INVALID_ARGUMENT,p+r+v)}function $R(r,e){return r.some((i=>i.isEqual(e)))}class MT{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Em("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JR extends MT{data(){return super.data()}}function Em(r,e){return typeof e=="string"?VT(r,e):e instanceof ym?e._internalPath:e._delegate._internalPath}function WR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tm{}class UT extends Tm{}function t2(r,e,...i){let s=[];e instanceof Tm&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((v=>v instanceof Sm)).length,p=f.filter((v=>v instanceof Am)).length;if(d>1||d>0&&p>0)throw new nt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Am extends UT{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Am(e,i,s)}_apply(e){const i=this._parse(e);return xT(e._query,i),new za(e.firestore,e.converter,Id(e._query,i))}_parse(e){const i=DT(e.firestore);return(function(f,d,p,v,y,A,b){let U;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Rv(b,A);const $=[];for(const W of b)$.push(wv(v,f,W));U={arrayValue:{values:$}}}else U=wv(v,f,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Rv(b,A),U=YR(p,d,b,A==="in"||A==="not-in");return Re.create(y,A,U)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Sm extends Tm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Sm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const p=f.getFlattenedFilters();for(const v of p)xT(d,v),d=Id(d,v)})(e._query,i),new za(e.firestore,e.converter,Id(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bm extends UT{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new bm(e,i)}_apply(e){const i=(function(o,f,d){if(o.startAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new po(f,d)})(e._query,this._field,this._direction);return new za(e.firestore,e.converter,(function(o,f){const d=o.explicitOrderBy.concat([f]);return new Gs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function e2(r,e="asc"){const i=e,s=Em("orderBy",r);return bm._create(s,i)}function wv(r,e,i){if(typeof(i=fn(i))=="string"){if(i==="")throw new nt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VE(e)&&i.indexOf("/")!==-1)throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child($t.fromString(i));if(!ut.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B_(r,new ut(s))}if(i instanceof Ve)return B_(r,i._key);throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(i)}.`)}function Rv(r,e){if(!Array.isArray(r)||r.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xT(r,e){const i=(function(o,f){for(const d of o)for(const p of d.getFlattenedFilters())if(f.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class n2{convertValue(e,i="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ma(e,((o,f)=>{s[o]=this.convertValue(f,i)})),s}convertVectorValue(e){const i=e.fields?.[Ac].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new wi(i)}convertGeoPoint(e){return new bi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=kc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const i=Br(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=$t.fromString(e);qt(eT(s),9688,{name:e});const o=new mo(s.get(1),s.get(3)),f=new ut(s.popFirst(5));return o.isEqual(i)||Ji(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function i2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class no{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends MT{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Em("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Ce("string",Ra._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class pc extends Ra{data(e={}){return super.data(e)}}class Us{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new no(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new pc(this._firestore,this._userDataWriter,s.key,s,new no(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new no(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>f||p.type!==3)).map((p=>{const v=new pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new no(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:r2(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Ce("string",Us._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class LT extends n2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function a2(r,e){const i=ro(r.firestore,Nc),s=qR(r),o=i2(r.converter,e);return l2(i,[KR(DT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Xi.exists(!1))]).then((()=>s))}function s2(r,...e){r=fn(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bv(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let f,d,p;if(r instanceof Ve)d=ro(r.firestore,Nc),p=Wd(r._key.path),f={next:v=>{e[s]&&e[s](o2(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=ro(r,za);d=ro(v.firestore,Nc),p=v._query;const y=new LT(d);f={next:A=>{e[s]&&e[s](new Us(d,y,v,A))},error:e[s+1],complete:e[s+2]},WR(r._query)}return(function(y,A,b,U){const G=new LR(U),$=new yR(A,G,b);return y.asyncQueue.enqueueAndForget((async()=>dR(await pv(y),$))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>mR(await pv(y),$)))}})(wT(d),p,o,f)}function l2(r,e){return(function(s,o){const f=new wa;return s.asyncQueue.enqueueAndForget((async()=>CR(await BR(s),o,f))),f.promise})(wT(r),e)}function o2(r,e,i){const s=i.docs.get(e._key),o=new LT(r);return new Ra(r,o,e._key,s,new no(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){qs=o})(nE),$i(new Ri("firestore",((s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),p=new Nc(new FS(s.getProvider("auth-internal")),new YS(d,s.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new nt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(y.options.projectId,A)})(d,o),d);return f={useFetchStreams:i,...f},p._setSettings(f),p}),"PUBLIC").setMultipleInstances(!0)),zn(R_,C_,e),zn(R_,C_,"esm2020")})();const zT="firebasestorage.googleapis.com",kT="storageBucket",u2=120*1e3,c2=600*1e3;class ue extends Gr{constructor(e,i,s=0){super(fd(e),`Firebase Storage: ${i} (${fd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ue.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oe;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oe||(oe={}));function fd(r){return"storage/"+r}function wm(){const r="An unknown error occurred, please check the error payload for server response.";return new ue(oe.UNKNOWN,r)}function f2(r){return new ue(oe.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function h2(r){return new ue(oe.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d2(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ue(oe.UNAUTHENTICATED,r)}function m2(){return new ue(oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function g2(r){return new ue(oe.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function p2(){return new ue(oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y2(){return new ue(oe.CANCELED,"User canceled the upload/download.")}function _2(r){return new ue(oe.INVALID_URL,"Invalid URL '"+r+"'.")}function v2(r){return new ue(oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function E2(){return new ue(oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kT+"' property when initializing the app?")}function T2(){return new ue(oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function A2(){return new ue(oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function S2(r){return new ue(oe.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pd(r){return new ue(oe.INVALID_ARGUMENT,r)}function BT(){return new ue(oe.APP_DELETED,"The Firebase app was deleted.")}function b2(r){return new ue(oe.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uo(r,e){return new ue(oe.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Jl(r){throw new ue(oe.INTERNAL_ERROR,"Internal error: "+r)}class Tn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=Tn.makeFromUrl(e,i)}catch{return new Tn(e,"")}if(s.path==="")return s;throw v2(e)}static makeFromUrl(e,i){let s=null;const o="([A-Za-z0-9.\\-_]+)";function f(vt){vt.path.charAt(vt.path.length-1)==="/"&&(vt.path_=vt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),v={bucket:1,path:3};function y(vt){vt.path_=decodeURIComponent(vt.path)}const A="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),U="(/([^?#]*).*)?$",G=new RegExp(`^https?://${b}/${A}/b/${o}/o${U}`,"i"),$={bucket:1,path:3},W=i===zT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Z="([^?#]*)",ft=new RegExp(`^https?://${W}/${o}/${Z}`,"i"),lt=[{regex:p,indices:v,postModify:f},{regex:G,indices:$,postModify:y},{regex:ft,indices:{bucket:1,path:2},postModify:y}];for(let vt=0;vt<lt.length;vt++){const Pt=lt[vt],bt=Pt.regex.exec(e);if(bt){const D=bt[Pt.indices.bucket];let S=bt[Pt.indices.path];S||(S=""),s=new Tn(D,S),Pt.postModify(s);break}}if(s==null)throw _2(e);return s}}class w2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function R2(r,e,i){let s=1,o=null,f=null,d=!1,p=0;function v(){return p===2}let y=!1;function A(...Z){y||(y=!0,e.apply(null,Z))}function b(Z){o=setTimeout(()=>{o=null,r(G,v())},Z)}function U(){f&&clearTimeout(f)}function G(Z,...ft){if(y){U();return}if(Z){U(),A.call(null,Z,...ft);return}if(v()||d){U(),A.call(null,Z,...ft);return}s<64&&(s*=2);let lt;p===1?(p=2,lt=0):lt=(s+Math.random())*1e3,b(lt)}let $=!1;function W(Z){$||($=!0,U(),!y&&(o!==null?(Z||(p=2),clearTimeout(o),b(0)):Z||(p=1)))}return b(0),f=setTimeout(()=>{d=!0,W(!0)},i),W}function C2(r){r(!1)}function D2(r){return r!==void 0}function I2(r){return typeof r=="object"&&!Array.isArray(r)}function Rm(r){return typeof r=="string"||r instanceof String}function Cv(r){return Cm()&&r instanceof Blob}function Cm(){return typeof Blob<"u"}function Dv(r,e,i,s){if(s<e)throw Pd(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>i)throw Pd(`Invalid value for '${r}'. Expected ${i} or less.`)}function Dm(r,e,i){let s=e;return i==null&&(s=`https://${e}`),`${i}://${s}/v0${r}`}function PT(r){const e=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);i=i+o+"&"}return i=i.slice(0,-1),i}var Ca;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ca||(Ca={}));function N2(r,e){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,f=e.indexOf(r)!==-1;return i||o||f}class O2{constructor(e,i,s,o,f,d,p,v,y,A,b,U=!0,G=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=o,this.successCodes_=f,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=v,this.timeout_=y,this.progressCallback_=A,this.connectionFactory_=b,this.retry=U,this.isUsingEmulator=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,W)=>{this.resolve_=$,this.reject_=W,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new oc(!1,null,!0));return}const f=this.connectionFactory_();this.pendingConnection_=f;const d=p=>{const v=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,y)};this.progressCallback_!==null&&f.addUploadProgressListener(d),f.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&f.removeUploadProgressListener(d),this.pendingConnection_=null;const p=f.getErrorCode()===Ca.NO_ERROR,v=f.getStatus();if(!p||N2(v,this.additionalRetryCodes_)&&this.retry){const A=f.getErrorCode()===Ca.ABORT;s(!1,new oc(!1,null,A));return}const y=this.successCodes_.indexOf(v)!==-1;s(!0,new oc(y,f))})},i=(s,o)=>{const f=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());D2(v)?f(v):f()}catch(v){d(v)}else if(p!==null){const v=wm();v.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,v)):d(v)}else if(o.canceled){const v=this.appDelete_?BT():y2();d(v)}else{const v=p2();d(v)}};this.canceled_?i(!1,new oc(!1,null,!0)):this.backoffId_=R2(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oc{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function V2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function M2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function x2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function L2(r,e,i,s,o,f,d=!0,p=!1){const v=PT(r.urlParams),y=r.url+v,A=Object.assign({},r.headers);return U2(A,e),V2(A,i),M2(A,f),x2(A,s),new O2(y,r.method,A,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}function z2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function k2(...r){const e=z2();if(e!==void 0){const i=new e;for(let s=0;s<r.length;s++)i.append(r[s]);return i.getBlob()}else{if(Cm())return new Blob(r);throw new ue(oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function B2(r,e,i){return r.webkitSlice?r.webkitSlice(e,i):r.mozSlice?r.mozSlice(e,i):r.slice?r.slice(e,i):null}function P2(r){if(typeof atob>"u")throw S2("base-64");return atob(r)}const Ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hd{constructor(e,i){this.data=e,this.contentType=i||null}}function q2(r,e){switch(r){case Ti.RAW:return new hd(qT(e));case Ti.BASE64:case Ti.BASE64URL:return new hd(jT(r,e));case Ti.DATA_URL:return new hd(H2(e),G2(e))}throw wm()}function qT(r){const e=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(i<r.length-1&&(r.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const f=s,d=r.charCodeAt(++i);s=65536|(f&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function j2(r){let e;try{e=decodeURIComponent(r)}catch{throw uo(Ti.DATA_URL,"Malformed data URL.")}return qT(e)}function jT(r,e){switch(r){case Ti.BASE64:{const o=e.indexOf("-")!==-1,f=e.indexOf("_")!==-1;if(o||f)throw uo(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ti.BASE64URL:{const o=e.indexOf("+")!==-1,f=e.indexOf("/")!==-1;if(o||f)throw uo(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=P2(e)}catch(o){throw o.message.includes("polyfill")?o:uo(r,"Invalid character found")}const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}class HT{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw uo(Ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=i[1]||null;s!=null&&(this.base64=F2(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function H2(r){const e=new HT(r);return e.base64?jT(Ti.BASE64,e.rest):j2(e.rest)}function G2(r){return new HT(r).contentType}function F2(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class Mr{constructor(e,i){let s=0,o="";Cv(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(Cv(this.data_)){const s=this.data_,o=B2(s,e,i);return o===null?null:new Mr(o)}else{const s=new Uint8Array(this.data_.buffer,e,i-e);return new Mr(s,!0)}}static getBlob(...e){if(Cm()){const i=e.map(s=>s instanceof Mr?s.data_:s);return new Mr(k2.apply(null,i))}else{const i=e.map(d=>Rm(d)?q2(Ti.RAW,d).data:d.data_);let s=0;i.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let f=0;return i.forEach(d=>{for(let p=0;p<d.length;p++)o[f++]=d[p]}),new Mr(o,!0)}}uploadData(){return this.data_}}function GT(r){let e;try{e=JSON.parse(r)}catch{return null}return I2(e)?e:null}function Q2(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function K2(r,e){const i=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?i:r+"/"+i}function FT(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function Y2(r,e){return e}class en{constructor(e,i,s,o){this.server=e,this.local=i||e,this.writable=!!s,this.xform=o||Y2}}let uc=null;function X2(r){return!Rm(r)||r.length<2?r:FT(r)}function QT(){if(uc)return uc;const r=[];r.push(new en("bucket")),r.push(new en("generation")),r.push(new en("metageneration")),r.push(new en("name","fullPath",!0));function e(f,d){return X2(d)}const i=new en("name");i.xform=e,r.push(i);function s(f,d){return d!==void 0?Number(d):d}const o=new en("size");return o.xform=s,r.push(o),r.push(new en("timeCreated")),r.push(new en("updated")),r.push(new en("md5Hash",null,!0)),r.push(new en("cacheControl",null,!0)),r.push(new en("contentDisposition",null,!0)),r.push(new en("contentEncoding",null,!0)),r.push(new en("contentLanguage",null,!0)),r.push(new en("contentType",null,!0)),r.push(new en("metadata","customMetadata",!0)),uc=r,uc}function Z2(r,e){function i(){const s=r.bucket,o=r.fullPath,f=new Tn(s,o);return e._makeStorageReference(f)}Object.defineProperty(r,"ref",{get:i})}function $2(r,e,i){const s={};s.type="file";const o=i.length;for(let f=0;f<o;f++){const d=i[f];s[d.local]=d.xform(s,e[d.server])}return Z2(s,r),s}function KT(r,e,i){const s=GT(e);return s===null?null:$2(r,s,i)}function J2(r,e,i,s){const o=GT(e);if(o===null||!Rm(o.downloadTokens))return null;const f=o.downloadTokens;if(f.length===0)return null;const d=encodeURIComponent;return f.split(",").map(y=>{const A=r.bucket,b=r.fullPath,U="/b/"+d(A)+"/o/"+d(b),G=Dm(U,i,s),$=PT({alt:"media",token:y});return G+$})[0]}function W2(r,e){const i={},s=e.length;for(let o=0;o<s;o++){const f=e[o];f.writable&&(i[f.server]=r[f.local])}return JSON.stringify(i)}class YT{constructor(e,i,s,o){this.url=e,this.method=i,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function XT(r){if(!r)throw wm()}function tC(r,e){function i(s,o){const f=KT(r,o,e);return XT(f!==null),f}return i}function eC(r,e){function i(s,o){const f=KT(r,o,e);return XT(f!==null),J2(f,o,r.host,r._protocol)}return i}function ZT(r){function e(i,s){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=m2():o=d2():i.getStatus()===402?o=h2(r.bucket):i.getStatus()===403?o=g2(r.path):o=s,o.status=i.getStatus(),o.serverResponse=s.serverResponse,o}return e}function nC(r){const e=ZT(r);function i(s,o){let f=e(s,o);return s.getStatus()===404&&(f=f2(r.path)),f.serverResponse=o.serverResponse,f}return i}function iC(r,e,i){const s=e.fullServerUrl(),o=Dm(s,r.host,r._protocol),f="GET",d=r.maxOperationRetryTime,p=new YT(o,f,eC(r,i),d);return p.errorHandler=nC(e),p}function rC(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function aC(r,e,i){const s=Object.assign({},i);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=rC(null,e)),s}function sC(r,e,i,s,o){const f=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let lt="";for(let vt=0;vt<2;vt++)lt=lt+Math.random().toString().slice(2);return lt}const v=p();d["Content-Type"]="multipart/related; boundary="+v;const y=aC(e,s,o),A=W2(y,i),b="--"+v+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+v+`\r
Content-Type: `+y.contentType+`\r
\r
`,U=`\r
--`+v+"--",G=Mr.getBlob(b,s,U);if(G===null)throw T2();const $={name:y.fullPath},W=Dm(f,r.host,r._protocol),Z="POST",ft=r.maxUploadRetryTime,mt=new YT(W,Z,tC(r,i),ft);return mt.urlParams=$,mt.headers=d,mt.body=G.uploadData(),mt.errorHandler=ZT(e),mt}class lC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,s,o,f){if(this.sent_)throw Jl("cannot .send() more than once");if(To(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),f!==void 0)for(const d in f)f.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,f[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oC extends lC{initXhr(){this.xhr_.responseType="text"}}function $T(){return new oC}class Na{constructor(e,i){this._service=e,i instanceof Tn?this._location=i:this._location=Tn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Na(e,i)}get root(){const e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FT(this._location.path)}get storage(){return this._service}get parent(){const e=Q2(this._location.path);if(e===null)return null;const i=new Tn(this._location.bucket,e);return new Na(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw b2(e)}}function uC(r,e,i){r._throwIfRoot("uploadBytes");const s=sC(r.storage,r._location,QT(),new Mr(e,!0),i);return r.storage.makeRequestWithTokens(s,$T).then(o=>({metadata:o,ref:r}))}function cC(r){r._throwIfRoot("getDownloadURL");const e=iC(r.storage,r._location,QT());return r.storage.makeRequestWithTokens(e,$T).then(i=>{if(i===null)throw A2();return i})}function fC(r,e){const i=K2(r._location.path,e),s=new Tn(r._location.bucket,i);return new Na(r.storage,s)}function hC(r){return/^[A-Za-z]+:\/\//.test(r)}function dC(r,e){return new Na(r,e)}function JT(r,e){if(r instanceof Im){const i=r;if(i._bucket==null)throw E2();const s=new Na(i,i._bucket);return e!=null?JT(s,e):s}else return e!==void 0?fC(r,e):r}function mC(r,e){if(e&&hC(e)){if(r instanceof Im)return dC(r,e);throw Pd("To use ref(service, url), the first argument must be a Storage instance.")}else return JT(r,e)}function Iv(r,e){const i=e?.[kT];return i==null?null:Tn.makeFromBucketSpec(i,r)}function gC(r,e,i,s={}){r.host=`${e}:${i}`;const o=To(e);o&&(Kv(`https://${r.host}/b`),Xv("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:f}=s;f&&(r._overrideAuthToken=typeof f=="string"?f:Yv(f,r.app.options.projectId))}class Im{constructor(e,i,s,o,f,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=o,this._firebaseVersion=f,this._isUsingEmulator=d,this._bucket=null,this._host=zT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u2,this._maxUploadRetryTime=c2,this._requests=new Set,o!=null?this._bucket=Tn.makeFromBucketSpec(o,this._host):this._bucket=Iv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=Iv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(eE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Na(this,e)}_makeRequest(e,i,s,o,f=!0){if(this._deleted)return new w2(BT());{const d=L2(e,this._appId,s,o,i,this._firebaseVersion,f,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,o).getPromise()}}const Nv="@firebase/storage",Ov="0.14.0";const WT="storage";function pC(r,e,i){return r=fn(r),uC(r,e,i)}function yC(r){return r=fn(r),cC(r)}function _C(r,e){return r=fn(r),mC(r,e)}function vC(r=Fd(),e){r=fn(r);const s=Ao(r,WT).getImmediate({identifier:e}),o=Fv("storage");return o&&EC(s,...o),s}function EC(r,e,i,s={}){gC(r,e,i,s)}function TC(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Im(i,s,o,e,nE)}function AC(){$i(new Ri(WT,TC,"PUBLIC").setMultipleInstances(!0)),zn(Nv,Ov,""),zn(Nv,Ov,"esm2020")}AC();const t0="@firebase/installations",Nm="0.6.19";const e0=1e4,n0=`w:${Nm}`,i0="FIS_v2",SC="https://firebaseinstallations.googleapis.com/v1",bC=3600*1e3,wC="installations",RC="Installations";const CC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oa=new Mc(wC,RC,CC);function r0(r){return r instanceof Gr&&r.code.includes("request-failed")}function a0({projectId:r}){return`${SC}/projects/${r}/installations`}function s0(r){return{token:r.token,requestStatus:2,expiresIn:IC(r.expiresIn),creationTime:Date.now()}}async function l0(r,e){const s=(await e.json()).error;return Oa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function o0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function DC(r,{refreshToken:e}){const i=o0(r);return i.append("Authorization",NC(e)),i}async function u0(r){const e=await r();return e.status>=500&&e.status<600?r():e}function IC(r){return Number(r.replace("s","000"))}function NC(r){return`${i0} ${r}`}async function OC({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=a0(r),o=o0(r),f=e.getImmediate({optional:!0});if(f){const y=await f.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:i,authVersion:i0,appId:r.appId,sdkVersion:n0},p={method:"POST",headers:o,body:JSON.stringify(d)},v=await u0(()=>fetch(s,p));if(v.ok){const y=await v.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:s0(y.authToken)}}else throw await l0("Create Installation",v)}function c0(r){return new Promise(e=>{setTimeout(e,r)})}function VC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const MC=/^[cdef][\w-]{21}$/,qd="";function UC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=xC(r);return MC.test(i)?i:qd}catch{return qd}}function xC(r){return VC(r).substr(0,22)}function Yc(r){return`${r.appName}!${r.appId}`}const f0=new Map;function h0(r,e){const i=Yc(r);d0(i,e),LC(i,e)}function d0(r,e){const i=f0.get(r);if(i)for(const s of i)s(e)}function LC(r,e){const i=zC();i&&i.postMessage({key:r,fid:e}),kC()}let ba=null;function zC(){return!ba&&"BroadcastChannel"in self&&(ba=new BroadcastChannel("[Firebase] FID Change"),ba.onmessage=r=>{d0(r.data.key,r.data.fid)}),ba}function kC(){f0.size===0&&ba&&(ba.close(),ba=null)}const BC="firebase-installations-database",PC=1,Va="firebase-installations-store";let dd=null;function Om(){return dd||(dd=Uc(BC,PC,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Va)}}})),dd}async function Vc(r,e){const i=Yc(r),o=(await Om()).transaction(Va,"readwrite"),f=o.objectStore(Va),d=await f.get(i);return await f.put(e,i),await o.done,(!d||d.fid!==e.fid)&&h0(r,e.fid),e}async function m0(r){const e=Yc(r),s=(await Om()).transaction(Va,"readwrite");await s.objectStore(Va).delete(e),await s.done}async function Xc(r,e){const i=Yc(r),o=(await Om()).transaction(Va,"readwrite"),f=o.objectStore(Va),d=await f.get(i),p=e(d);return p===void 0?await f.delete(i):await f.put(p,i),await o.done,p&&(!d||d.fid!==p.fid)&&h0(r,p.fid),p}async function Vm(r){let e;const i=await Xc(r.appConfig,s=>{const o=qC(s),f=jC(r,o);return e=f.registrationPromise,f.installationEntry});return i.fid===qd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function qC(r){const e=r||{fid:UC(),registrationStatus:0};return g0(e)}function jC(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Oa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=HC(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GC(r)}:{installationEntry:e}}async function HC(r,e){try{const i=await OC(r,e);return Vc(r.appConfig,i)}catch(i){throw r0(i)&&i.customData.serverCode===409?await m0(r.appConfig):await Vc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function GC(r){let e=await Vv(r.appConfig);for(;e.registrationStatus===1;)await c0(100),e=await Vv(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Vm(r);return s||i}return e}function Vv(r){return Xc(r,e=>{if(!e)throw Oa.create("installation-not-found");return g0(e)})}function g0(r){return FC(r)?{fid:r.fid,registrationStatus:0}:r}function FC(r){return r.registrationStatus===1&&r.registrationTime+e0<Date.now()}async function QC({appConfig:r,heartbeatServiceProvider:e},i){const s=KC(r,i),o=DC(r,i),f=e.getImmediate({optional:!0});if(f){const y=await f.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:n0,appId:r.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},v=await u0(()=>fetch(s,p));if(v.ok){const y=await v.json();return s0(y)}else throw await l0("Generate Auth Token",v)}function KC(r,{fid:e}){return`${a0(r)}/${e}/authTokens:generate`}async function Mm(r,e=!1){let i;const s=await Xc(r.appConfig,f=>{if(!p0(f))throw Oa.create("not-registered");const d=f.authToken;if(!e&&ZC(d))return f;if(d.requestStatus===1)return i=YC(r,e),f;{if(!navigator.onLine)throw Oa.create("app-offline");const p=JC(f);return i=XC(r,p),p}});return i?await i:s.authToken}async function YC(r,e){let i=await Mv(r.appConfig);for(;i.authToken.requestStatus===1;)await c0(100),i=await Mv(r.appConfig);const s=i.authToken;return s.requestStatus===0?Mm(r,e):s}function Mv(r){return Xc(r,e=>{if(!p0(e))throw Oa.create("not-registered");const i=e.authToken;return WC(i)?{...e,authToken:{requestStatus:0}}:e})}async function XC(r,e){try{const i=await QC(r,e),s={...e,authToken:i};return await Vc(r.appConfig,s),i}catch(i){if(r0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await m0(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Vc(r.appConfig,s)}throw i}}function p0(r){return r!==void 0&&r.registrationStatus===2}function ZC(r){return r.requestStatus===2&&!$C(r)}function $C(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+bC}function JC(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function WC(r){return r.requestStatus===1&&r.requestTime+e0<Date.now()}async function tD(r){const e=r,{installationEntry:i,registrationPromise:s}=await Vm(e);return s?s.catch(console.error):Mm(e).catch(console.error),i.fid}async function eD(r,e=!1){const i=r;return await nD(i),(await Mm(i,e)).token}async function nD(r){const{registrationPromise:e}=await Vm(r);e&&await e}function iD(r){if(!r||!r.options)throw md("App Configuration");if(!r.name)throw md("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw md(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function md(r){return Oa.create("missing-app-config-values",{valueName:r})}const y0="installations",rD="installations-internal",aD=r=>{const e=r.getProvider("app").getImmediate(),i=iD(e),s=Ao(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},sD=r=>{const e=r.getProvider("app").getImmediate(),i=Ao(e,y0).getImmediate();return{getId:()=>tD(i),getToken:o=>eD(i,o)}};function lD(){$i(new Ri(y0,aD,"PUBLIC")),$i(new Ri(rD,sD,"PRIVATE"))}lD();zn(t0,Nm);zn(t0,Nm,"esm2020");const oD="/firebase-messaging-sw.js",uD="/firebase-cloud-messaging-push-scope",_0="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cD="https://fcmregistrations.googleapis.com/v1",v0="google.c.a.c_id",fD="google.c.a.c_l",hD="google.c.a.ts",dD="google.c.a.e",Uv=1e4;var xv;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(xv||(xv={}));var vo;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(vo||(vo={}));function Ki(r){const e=new Uint8Array(r);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mD(r){const e="=".repeat((4-r.length%4)%4),i=(r+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),o=new Uint8Array(s.length);for(let f=0;f<s.length;++f)o[f]=s.charCodeAt(f);return o}const gd="fcm_token_details_db",gD=5,Lv="fcm_token_object_Store";async function pD(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(f=>f.name).includes(gd))return null;let e=null;return(await Uc(gd,gD,{upgrade:async(s,o,f,d)=>{if(o<2||!s.objectStoreNames.contains(Lv))return;const p=d.objectStore(Lv),v=await p.index("fcmSenderId").get(r);if(await p.clear(),!!v){if(o===2){const y=v;if(!y.auth||!y.p256dh||!y.endpoint)return;e={token:y.fcmToken,createTime:y.createTime??Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:typeof y.vapidKey=="string"?y.vapidKey:Ki(y.vapidKey)}}}else if(o===3){const y=v;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ki(y.auth),p256dh:Ki(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ki(y.vapidKey)}}}else if(o===4){const y=v;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ki(y.auth),p256dh:Ki(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ki(y.vapidKey)}}}}}})).close(),await id(gd),await id("fcm_vapid_details_db"),await id("undefined"),yD(e)?e:null}function yD(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:e}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const _D="firebase-messaging-database",vD=1,Eo="firebase-messaging-store";let pd=null;function E0(){return pd||(pd=Uc(_D,vD,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Eo)}}})),pd}async function ED(r){const e=T0(r),s=await(await E0()).transaction(Eo).objectStore(Eo).get(e);if(s)return s;{const o=await pD(r.appConfig.senderId);if(o)return await Um(r,o),o}}async function Um(r,e){const i=T0(r),o=(await E0()).transaction(Eo,"readwrite");return await o.objectStore(Eo).put(e,i),await o.done,e}function T0({appConfig:r}){return r.appId}const TD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},$e=new Mc("messaging","Messaging",TD);async function AD(r,e){const i=await Lm(r),s=A0(e),o={method:"POST",headers:i,body:JSON.stringify(s)};let f;try{f=await(await fetch(xm(r.appConfig),o)).json()}catch(d){throw $e.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(f.error){const d=f.error.message;throw $e.create("token-subscribe-failed",{errorInfo:d})}if(!f.token)throw $e.create("token-subscribe-no-token");return f.token}async function SD(r,e){const i=await Lm(r),s=A0(e.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let f;try{f=await(await fetch(`${xm(r.appConfig)}/${e.token}`,o)).json()}catch(d){throw $e.create("token-update-failed",{errorInfo:d?.toString()})}if(f.error){const d=f.error.message;throw $e.create("token-update-failed",{errorInfo:d})}if(!f.token)throw $e.create("token-update-no-token");return f.token}async function bD(r,e){const s={method:"DELETE",headers:await Lm(r)};try{const f=await(await fetch(`${xm(r.appConfig)}/${e}`,s)).json();if(f.error){const d=f.error.message;throw $e.create("token-unsubscribe-failed",{errorInfo:d})}}catch(o){throw $e.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function xm({projectId:r}){return`${cD}/projects/${r}/registrations`}async function Lm({appConfig:r,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function A0({p256dh:r,auth:e,endpoint:i,vapidKey:s}){const o={web:{endpoint:i,auth:e,p256dh:r}};return s!==_0&&(o.web.applicationPubKey=s),o}const wD=10080*60*1e3;async function RD(r){const e=await DD(r.swRegistration,r.vapidKey),i={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:e.endpoint,auth:Ki(e.getKey("auth")),p256dh:Ki(e.getKey("p256dh"))},s=await ED(r.firebaseDependencies);if(s){if(ID(s.subscriptionOptions,i))return Date.now()>=s.createTime+wD?CD(r,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{await bD(r.firebaseDependencies,s.token)}catch(o){console.warn(o)}return zv(r.firebaseDependencies,i)}else return zv(r.firebaseDependencies,i)}async function CD(r,e){try{const i=await SD(r.firebaseDependencies,e),s={...e,token:i,createTime:Date.now()};return await Um(r.firebaseDependencies,s),i}catch(i){throw i}}async function zv(r,e){const s={token:await AD(r,e),createTime:Date.now(),subscriptionOptions:e};return await Um(r,s),s.token}async function DD(r,e){const i=await r.pushManager.getSubscription();return i||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mD(e)})}function ID(r,e){const i=e.vapidKey===r.vapidKey,s=e.endpoint===r.endpoint,o=e.auth===r.auth,f=e.p256dh===r.p256dh;return i&&s&&o&&f}function kv(r){const e={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return ND(e,r),OD(e,r),VD(e,r),e}function ND(r,e){if(!e.notification)return;r.notification={};const i=e.notification.title;i&&(r.notification.title=i);const s=e.notification.body;s&&(r.notification.body=s);const o=e.notification.image;o&&(r.notification.image=o);const f=e.notification.icon;f&&(r.notification.icon=f)}function OD(r,e){e.data&&(r.data=e.data)}function VD(r,e){if(!e.fcmOptions&&!e.notification?.click_action)return;r.fcmOptions={};const i=e.fcmOptions?.link??e.notification?.click_action;i&&(r.fcmOptions.link=i);const s=e.fcmOptions?.analytics_label;s&&(r.fcmOptions.analyticsLabel=s)}function MD(r){return typeof r=="object"&&!!r&&v0 in r}function UD(r){if(!r||!r.options)throw yd("App Configuration Object");if(!r.name)throw yd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=r;for(const s of e)if(!i[s])throw yd(s);return{appName:r.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function yd(r){return $e.create("missing-app-config-values",{valueName:r})}class xD{constructor(e,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=UD(e);this.firebaseDependencies={app:e,appConfig:o,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function LD(r){try{r.swRegistration=await navigator.serviceWorker.register(oD,{scope:uD}),r.swRegistration.update().catch(()=>{}),await zD(r.swRegistration)}catch(e){throw $e.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function zD(r){return new Promise((e,i)=>{const s=setTimeout(()=>i(new Error(`Service worker not registered after ${Uv} ms`)),Uv),o=r.installing||r.waiting;r.active?(clearTimeout(s),e()):o?o.onstatechange=f=>{f.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})}async function kD(r,e){if(!e&&!r.swRegistration&&await LD(r),!(!e&&r.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw $e.create("invalid-sw-registration");r.swRegistration=e}}async function BD(r,e){e?r.vapidKey=e:r.vapidKey||(r.vapidKey=_0)}async function S0(r,e){if(!navigator)throw $e.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw $e.create("permission-blocked");return await BD(r,e?.vapidKey),await kD(r,e?.serviceWorkerRegistration),RD(r)}async function PD(r,e,i){const s=qD(e);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[v0],message_name:i[fD],message_time:i[hD],message_device_time:Math.floor(Date.now()/1e3)})}function qD(r){switch(r){case vo.NOTIFICATION_CLICKED:return"notification_open";case vo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function jD(r,e){const i=e.data;if(!i.isFirebaseMessaging)return;r.onMessageHandler&&i.messageType===vo.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(kv(i)):r.onMessageHandler.next(kv(i)));const s=i.data;MD(s)&&s[dD]==="1"&&await PD(r,i.messageType,s)}const Bv="@firebase/messaging",Pv="0.12.23";const HD=r=>{const e=new xD(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>jD(e,i)),e},GD=r=>{const e=r.getProvider("messaging").getImmediate();return{getToken:s=>S0(e,s)}};function FD(){$i(new Ri("messaging",HD,"PUBLIC")),$i(new Ri("messaging-internal",GD,"PRIVATE")),zn(Bv,Pv),zn(Bv,Pv,"esm2020")}async function QD(){try{await $v()}catch{return!1}return typeof window<"u"&&Zv()&&N1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function KD(r,e){if(!navigator)throw $e.create("only-available-in-window");return r.onMessageHandler=e,()=>{r.onMessageHandler=null}}function YD(r=Fd()){return QD().then(e=>{if(!e)throw $e.create("unsupported-browser")},e=>{throw $e.create("indexed-db-unsupported")}),Ao(fn(r),"messaging").getImmediate()}async function XD(r,e){return r=fn(r),S0(r,e)}function ZD(r,e){return r=fn(r),KD(r,e)}FD();const $D={apiKey:"AIzaSyAzbXjGyT1_jbpIdJYKYdcG9y368r7NKRw",authDomain:"chaelri-todo.firebaseapp.com",projectId:"chaelri-todo",storageBucket:"chaelri-todo.firebasestorage.app",messagingSenderId:"271724667038",appId:"1:271724667038:web:185cd2c2db593b96db9b8f"},zm=iE($D),qv=jR(zm),JD=vC(zm),cc=typeof window<"u"?YD(zm):null;function WD(){const[r,e]=Vs.useState([]);Vs.useEffect(()=>{const o=t2(Ev(qv,"todos"),e2("createdAt","desc")),f=s2(o,d=>{const p=d.docs.map(v=>{const{id:y,...A}=v.data();return{id:v.id,...A}});e(p)});return()=>f()},[]);async function i(o,f){let d="";try{if(f){const p=_C(JD,`todos/${Date.now()}-${f.name}`);await pC(p,f),d=await yC(p)}await a2(Ev(qv,"todos"),{text:o,imageUrl:d,createdAt:Jt.now()})}catch(p){console.error("Add todo error:",p),alert("Failed to add todo.")}}async function s(){if(console.log("Requesting notifications..."),!cc){console.warn("Messaging is not supported in this environment."),alert("Messaging not supported.");return}try{const o=await XD(cc,{vapidKey:void 0});console.log("FCM Token:",o),alert("Notifications enabled! Token printed in console.")}catch(o){console.error("getToken ERROR:",o),alert("Failed to activate notifications.")}}return Vs.useEffect(()=>{if(!cc)return;const o=ZD(cc,f=>{console.log("Foreground notification:",f),alert(`New Notification: ${f.notification?.title}`)});return()=>{o()}},[]),me.jsxs("div",{className:"app-container",children:[me.jsxs("header",{children:[me.jsx("h1",{children:"Chaelri ToDo"}),me.jsx("button",{onClick:s,children:"Enable Notifications"})]}),me.jsxs("main",{children:[me.jsx(h1,{onAdd:i}),me.jsx(d1,{todos:r})]}),me.jsx("footer",{children:me.jsx("small",{children:"Built with React + Firebase + PWA"})})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").catch(r=>console.warn("SW reg failed:",r))});f1.createRoot(document.getElementById("root")).render(me.jsx(i1.StrictMode,{children:me.jsx(WD,{})}));
